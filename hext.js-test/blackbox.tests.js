const hext_blackbox_tests = [{"name":"append-pipe","hext":"<a class:trim:prepend(\"'\"):append(\"' is the class\"):'class' />\n","html":"<div>\n  <a class=\" spaces \"> This is some content   </a>\n  <a class=\"no spaces\">   some more content</a>\n</div>\n","expected":[{"class":"'no spaces' is the class"},{"class":"'spaces' is the class"}]},{"name":"array","hext":"<div>\n  <h2 @text:heading/>\n  <p @text:paragraph/>\n</div>\n","html":"<html>\n<body>\n  <div>\n    <h2>Heading1</h2>\n    <p>Text1</p>\n    <p>Timestamp1</p>\n    <h2>Heading2</h2>\n    <p>Text2</p>\n    <p>Timestamp2</p>\n    <div class=\"advertising\">...</div>\n    <h2>Heading3</h2>\n    <p>Text3</p>\n    <p>Timestamp3</p>\n  </div>\n</body>\n</html>\n","expected":[{"heading":["Heading1","Heading2","Heading3"],"paragraph":["Text1","Text2","Text3"]}]},{"name":"attribute-case","hext":"<span CLass:class />\n","html":"<div>\n  <span class=\"lower case attribute\"></span>\n  <span cLaSs=\"mixed case attribute\"></span>\n  <span CLASS=\"upper case attribute\"></span>\n</div>\n","expected":[{"class":"lower case attribute"},{"class":"mixed case attribute"},{"class":"upper case attribute"}]},{"name":"attribute-count","hext":"<div:attribute-count(3) @inner-html:attr_count/>\n","html":"<html>\n  <head>\n  </head>\n  <body>\n    <div>0</div>\n    <div attr1=\"\">1</div>\n    <div attr1=\"\" attr2=\"\">2</div>\n    <div attr1=\"\" attr2=\"\" attr3=\"\">3</div>\n  </body>\n</html>\n","expected":[{"attr_count":"3"}]},{"name":"attribute-operators","hext":"<div class=\"swo\" class*=\"wor\" class$=\"word\" class^=\"swo\" same==\"same\" class:class/>\n","html":"<div id=\"anchor\">\n  <div same=\"same\" class=\"swo sword\"></div>\n  <div same=\"same\" class=\"swo ssword\"></div>\n  <div class=\"ord\"></div>\n  <div class=\"or\"></div>\n  <div class=\"nope\"></div>\n</div>\n","expected":[{"class":"swo ssword"},{"class":"swo sword"}]},{"name":"carriage-return","hext":"<tr>\r\n  <td><span @text:rank /></td>\r\n  <td><a href:href @text:title /></td>\r\n</tr>\r\n<?tr>\r\n  <td>\r\n    <span @text:score />\r\n    <a @text:user />\r\n    <a:last-child @text:filter(/\\d+/):comment_count />\r\n  </td>\r\n</tr>\r\n\r\n","html":"<table>\n  <tbody>\n    <tr>\n      <td><span>1.</span></td>\n      <td><a href=\"http://example.com/10-reasons\">\n          10 Reasons why your startup is\n          worse than mine</a></td>\n      <td><a href=\"javascript:vote()\">Vote up</a></td>\n    </tr>\n    <tr>\n      <td class=\"spacer\"></td>\n      <td class=\"subtext\">\n        <span class=\"score\">23 points</span> |\n        by <a href=\"/user/mr-robot-23\">MrRobot23</a>\n        some time ago |\n        <a href=\"/posts/1478923\">42 comments</a>\n      </td>\n    </tr>\n    <tr class=\"spacer\"></tr>\n    <tr>\n      <td><span>2.</span></td>\n      <td>\n        <a href=\"https://www.example.com/cutting-onions\">\n           The lost art of cutting onions:\n           How an outcast revolutionized food supply\n        </a>\n      </td>\n      <td><a href=\"javascript:vote()\">Vote up</a></td>\n    </tr>\n    <tr>\n      <td class=\"spacer\"></td>\n      <td class=\"subtext\">\n        <span class=\"score\">99 points</span> |\n        by <a href=\"/user/sillyvalley\">SillyValley</a>\n        some time ago |\n        <a href=\"/posts/1478930\">5 comments</a>\n      </td>\n    </tr>\n    <tr class=\"spacer\"></tr>\n    <tr>\n      <td><span>3.</span></td>\n      <td>\n        <a href=\"https://www.example.com/cppcompjs\">\n          cppcompjs: A non-blocking (web-scale) C++\n          compiler for node.js</a></td>\n      <td><a href=\"javascript:vote()\">Vote up</a></td>\n    </tr>\n    <tr>\n      <td class=\"spacer\"></td>\n      <td class=\"subtext\">\n        <span class=\"score\">235 points</span> |\n        by <a href=\"/user/malicealice\">malicealice</a>\n        some time ago |\n        <a href=\"/posts/\">144 comments</a>\n      </td>\n    </tr>\n    <tr class=\"spacer\"></tr>\n  </tbody>\n</table>\n\n","expected":[{"comment_count":"42","href":"http://example.com/10-reasons","rank":"1.","score":"23 points","title":"10 Reasons why your startup is worse than mine","user":"MrRobot23"},{"comment_count":"5","href":"https://www.example.com/cutting-onions","rank":"2.","score":"99 points","title":"The lost art of cutting onions: How an outcast revolutionized food supply","user":"SillyValley"},{"comment_count":"144","href":"https://www.example.com/cppcompjs","rank":"3.","score":"235 points","title":"cppcompjs: A non-blocking (web-scale) C++ compiler for node.js","user":"malicealice"}]},{"name":"chaining-rules-example","hext":"<div:attribute-count(0)>\n  <ul:attribute-count(0)>\n    <li>\n      <a href:link/>\n    </li>\n  </ul>\n</div>\n","html":"<html>\n  <head></head>\n  <body>\n    <div>\n      <ul attribute>\n        <li><a href=\"nope1\"></a></li>\n        <li><a href=\"nope2\"></a></li>\n      </ul>\n    </div>\n    <div>\n      <ul>\n        <li><a href=\"result1\"></a></li>\n        <li><a href=\"result2\"></a></li>\n        <li><a href=\"result3\"></a></li>\n        <li><a href=\"result4\"></a></li>\n        <li><a href=\"result5\"></a></li>\n        <li><a href=\"result6\"></a></li>\n        <li><a href=\"result7\"></a></li>\n        <li><a nope3></a></li>\n      </ul>\n      <div>\n        <div>\n          <a href=\"nope4\"></a>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>\n","expected":[{"link":["result1","result2","result3","result4","result5","result6","result7"]}]},{"name":"collapsews-pipe","hext":"<article @strip-tags:collapsews:t />\n","html":"<article>\n  <h1>Something is happening!</h1>\n  <p>And <b>you</b> don't know <i>what</i> it is</p>\n</article>\n","expected":[{"t":"Something is happening! And you don't know what it is"}]},{"name":"contains-all-words","hext":"<div class==\"one two three\" class:class/>\n","html":"<html>\n  <head>\n  </head>\n  <body>\n    <div class=\"one two three\"></div>\n    <div class=\"three two one\"></div>\n    <div class=\"two one two three\"></div>\n    <div class=\"five six seven\"></div>\n    <div class=\"five six\"></div>\n    <div class=\"nine\"></div>\n  </body>\n</html>\n","expected":[{"class":"one two three"}]},{"name":"custom-tag-case-insensitive","hext":"<yt-formatted-string class:c @text:x />\n","html":"<div>\n  <yt-formatted-string class=\"one\">Content1</yt-formatted-string>\n  <yt-fOrmatted-string class=\"two\">Content2</yt-fOrmatted-string>\n  <Yt-Formatted-String class=\"three\"></Yt-Formatted-String>\n  <NOMATCH class=\"no\">no match</NOMATCH>\n</div>\n","expected":[{"c":"one","x":"Content1"},{"c":"three","x":""},{"c":"two","x":"Content2"}]},{"name":"custom-tag","hext":"<yt-formatted-string @text:x />\n","html":"<div>\n  <yt-formatted-string>This is some content in a custom tag</yt-formatted-string>\n</div>\n","expected":[{"x":"This is some content in a custom tag"}]},{"name":"custom-tag-inner-html","hext":"<div @inner-html:x />\n","html":"<div>\n  <yt-formatted-string>This is some content in a custom tag</yt-formatted-string>\n  <self-closing-custom-tag />\n</div>\n","expected":[{"x":"\n  <yt-formatted-string>This is some content in a custom tag</yt-formatted-string>\n  <self-closing-custom-tag>\n</self-closing-custom-tag>"}]},{"name":"custom-tag-parent","hext":"<yt-formatted-string>\n  <div @text:x />\n</yt-formatted-string>\n","html":"<yt-formatted-string>\n  <div>This is some content in a child of a custom tag</div>\n</yt-formatted-string>\n","expected":[{"x":"This is some content in a child of a custom tag"}]},{"name":"doxygen-annotated-class-list","hext":"<tr id^=\"row_0_\">\n  <td class=\"entry\">\n    <a @text:class_name/>\n  </td>\n  <td class=\"desc\" @text:class_desc/>\n</tr>\n","html":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/xhtml;charset=UTF-8\"/>\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=9\"/>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<title>libhext: Class List</title>\n<script type=\"text/javascript\" src=\"jquery.js\"></script>\n<script type=\"text/javascript\" src=\"dynsections.js\"></script>\n<link href=\"search/search.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script type=\"text/javascript\" src=\"search/search.js\"></script>\n<script type=\"text/javascript\">\n  $(document).ready(function() { searchBox.OnSelectItem(0); });\n</script>\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css\">\n<link rel=\"stylesheet\" href=\"style.css\">\n</head>\n<body>\n<div id=\"top\">\n<div id=\"titlearea\"></div>\n<!-- Generated by Doxygen 1.8.8 -->\n<script type=\"text/javascript\">\nvar searchBox = new SearchBox(\"searchBox\", \"search\",false,'Search');\n</script>\n  <div id=\"navrow1\" class=\"tabs\">\n    <ul class=\"tablist\">\n      <li><a href=\"index.html\"><span>Main&#160;Page</span></a></li>\n      <li><a href=\"namespaces.html\"><span>Namespaces</span></a></li>\n      <li class=\"current\"><a href=\"annotated.html\"><span>Classes</span></a></li>\n      <li><a href=\"files.html\"><span>Files</span></a></li>\n      <li>\n        <div id=\"MSearchBox\" class=\"MSearchBoxInactive\">\n        <span class=\"left\">\n          <img id=\"MSearchSelect\" src=\"search/mag_sel.png\"\n               onmouseover=\"return searchBox.OnSearchSelectShow()\"\n               onmouseout=\"return searchBox.OnSearchSelectHide()\"\n               alt=\"\"/>\n          <input type=\"text\" id=\"MSearchField\" value=\"Search\" accesskey=\"S\"\n               onfocus=\"searchBox.OnSearchFieldFocus(true)\" \n               onblur=\"searchBox.OnSearchFieldFocus(false)\" \n               onkeyup=\"searchBox.OnSearchFieldChange(event)\"/>\n          </span><span class=\"right\">\n            <a id=\"MSearchClose\" href=\"javascript:searchBox.CloseResultsWindow()\"><img id=\"MSearchCloseImg\" border=\"0\" src=\"search/close.png\" alt=\"\"/></a>\n          </span>\n        </div>\n      </li>\n    </ul>\n  </div>\n  <div id=\"navrow2\" class=\"tabs2\">\n    <ul class=\"tablist\">\n      <li class=\"current\"><a href=\"annotated.html\"><span>Class&#160;List</span></a></li>\n      <li><a href=\"inherits.html\"><span>Class&#160;Hierarchy</span></a></li>\n      <li><a href=\"functions.html\"><span>Class&#160;Members</span></a></li>\n    </ul>\n  </div>\n</div><!-- top -->\n<!-- window showing the filter options -->\n<div id=\"MSearchSelectWindow\"\n     onmouseover=\"return searchBox.OnSearchSelectShow()\"\n     onmouseout=\"return searchBox.OnSearchSelectHide()\"\n     onkeydown=\"return searchBox.OnSearchSelectKey(event)\">\n<a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(0)\"><span class=\"SelectionMark\">&#160;</span>All</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(1)\"><span class=\"SelectionMark\">&#160;</span>Classes</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(2)\"><span class=\"SelectionMark\">&#160;</span>Namespaces</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(3)\"><span class=\"SelectionMark\">&#160;</span>Files</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(4)\"><span class=\"SelectionMark\">&#160;</span>Functions</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(5)\"><span class=\"SelectionMark\">&#160;</span>Variables</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(6)\"><span class=\"SelectionMark\">&#160;</span>Typedefs</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(7)\"><span class=\"SelectionMark\">&#160;</span>Enumerations</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(8)\"><span class=\"SelectionMark\">&#160;</span>Enumerator</a><a class=\"SelectItem\" href=\"javascript:void(0)\" onclick=\"searchBox.OnSelectItem(9)\"><span class=\"SelectionMark\">&#160;</span>Pages</a></div>\n\n<!-- iframe showing the search results (closed by default) -->\n<div id=\"MSearchResultsWindow\">\n<iframe src=\"javascript:void(0)\" frameborder=\"0\" \n        name=\"MSearchResults\" id=\"MSearchResults\">\n</iframe>\n</div>\n\n<div class=\"header\">\n  <div class=\"headertitle\">\n<div class=\"title\">Class List</div>  </div>\n</div><!--header-->\n<div class=\"contents\">\n<div class=\"textblock\">Here are the classes, structs, unions and interfaces with brief descriptions:</div><div class=\"directory\">\n<div class=\"levels\">[detail level <span onclick=\"javascript:toggleLevel(1);\">1</span><span onclick=\"javascript:toggleLevel(2);\">2</span>]</div><table class=\"directory\">\n<tr id=\"row_0_\" class=\"even\"><td class=\"entry\"><span style=\"width:0px;display:inline-block;\">&#160;</span><span id=\"arr_0_\" class=\"arrow\" onclick=\"toggleFolder('0_')\">&#9660;</span><span class=\"icona\"><span class=\"icon\">N</span></span><a class=\"el\" href=\"namespacehext.html\" target=\"_self\">hext</a></td><td class=\"desc\">The hext namespace is the top level namespace for everything in libhext </td></tr>\n<tr id=\"row_0_0_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1AttributeCapture.html\" target=\"_self\">AttributeCapture</a></td><td class=\"desc\">Captures an HTML Element's attribute </td></tr>\n<tr id=\"row_0_1_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1AttributeCountMatch.html\" target=\"_self\">AttributeCountMatch</a></td><td class=\"desc\">Matches HTML elements that have a certain amount of HTML attributes </td></tr>\n<tr id=\"row_0_2_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1AttributeMatch.html\" target=\"_self\">AttributeMatch</a></td><td class=\"desc\">Matches HTML elements having an HTML attribute with a certain name and, optionally, whose value is matched by a <a class=\"el\" href=\"classhext_1_1ValueTest.html\" title=\"Abstract base for every ValueTest. \">ValueTest</a> </td></tr>\n<tr id=\"row_0_3_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1BeginsWithTest.html\" target=\"_self\">BeginsWithTest</a></td><td class=\"desc\">Tests whether a string begins with a given literal </td></tr>\n<tr id=\"row_0_4_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1Capture.html\" target=\"_self\">Capture</a></td><td class=\"desc\">Abstract base for every <a class=\"el\" href=\"classhext_1_1Capture.html\" title=\"Abstract base for every Capture. \">Capture</a> </td></tr>\n<tr id=\"row_0_5_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1ChildCountMatch.html\" target=\"_self\">ChildCountMatch</a></td><td class=\"desc\">Matches HTML elements that have a certain amount of children of type element (exluding text nodes, document nodes and others) </td></tr>\n<tr id=\"row_0_6_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1ContainsTest.html\" target=\"_self\">ContainsTest</a></td><td class=\"desc\">Tests whether a string contains a given literal </td></tr>\n<tr id=\"row_0_7_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1ContainsWordsTest.html\" target=\"_self\">ContainsWordsTest</a></td><td class=\"desc\">Tests whether a string contains all given words </td></tr>\n<tr id=\"row_0_8_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1EndsWithTest.html\" target=\"_self\">EndsWithTest</a></td><td class=\"desc\">Tests whether a string ends with a given literal </td></tr>\n<tr id=\"row_0_9_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1EqualsTest.html\" target=\"_self\">EqualsTest</a></td><td class=\"desc\">Tests whether a string equals a given literal </td></tr>\n<tr id=\"row_0_10_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1Extractor.html\" target=\"_self\">Extractor</a></td><td class=\"desc\">Extracts ResultTrees from HTML </td></tr>\n<tr id=\"row_0_11_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1FunctionCapture.html\" target=\"_self\">FunctionCapture</a></td><td class=\"desc\">Captures the result of applying a function to an HTML node </td></tr>\n<tr id=\"row_0_12_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1FunctionMatch.html\" target=\"_self\">FunctionMatch</a></td><td class=\"desc\">Matches if the result of applying a given CaptureFunction to an HTML node passes a <a class=\"el\" href=\"classhext_1_1ValueTest.html\" title=\"Abstract base for every ValueTest. \">ValueTest</a> </td></tr>\n<tr id=\"row_0_13_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1Html.html\" target=\"_self\">Html</a></td><td class=\"desc\">A RAII wrapper for Gumbo </td></tr>\n<tr id=\"row_0_14_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1Match.html\" target=\"_self\">Match</a></td><td class=\"desc\">Abstract base for every <a class=\"el\" href=\"classhext_1_1Match.html\" title=\"Abstract base for every Match. \">Match</a> </td></tr>\n<tr id=\"row_0_15_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1NegateMatch.html\" target=\"_self\">NegateMatch</a></td><td class=\"desc\">Matches HTML nodes for which every given <a class=\"el\" href=\"classhext_1_1Match.html\" title=\"Abstract base for every Match. \">Match</a> returns false </td></tr>\n<tr id=\"row_0_16_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1NegateTest.html\" target=\"_self\">NegateTest</a></td><td class=\"desc\">Negates the result of another <a class=\"el\" href=\"classhext_1_1ValueTest.html\" title=\"Abstract base for every ValueTest. \">ValueTest</a> </td></tr>\n<tr id=\"row_0_17_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1NthChildMatch.html\" target=\"_self\">NthChildMatch</a></td><td class=\"desc\">Matches HTML nodes having a certain position within their parent HTML element </td></tr>\n<tr id=\"row_0_18_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1OnlyChildMatch.html\" target=\"_self\">OnlyChildMatch</a></td><td class=\"desc\">Matches HTML nodes that are the only child of their parent HTML element </td></tr>\n<tr id=\"row_0_19_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1RegexTest.html\" target=\"_self\">RegexTest</a></td><td class=\"desc\">Tests whether another string matches a given regex </td></tr>\n<tr id=\"row_0_20_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1ResultTree.html\" target=\"_self\">ResultTree</a></td><td class=\"desc\">A self-managing tree containing all values captured from HTML </td></tr>\n<tr id=\"row_0_21_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1Rule.html\" target=\"_self\">Rule</a></td><td class=\"desc\">Extracts values from HTML </td></tr>\n<tr id=\"row_0_22_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1SyntaxError.html\" target=\"_self\">SyntaxError</a></td><td class=\"desc\">The exception that is thrown when parsing invalid hext </td></tr>\n<tr id=\"row_0_23_\" class=\"even\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1TextNodeMatch.html\" target=\"_self\">TextNodeMatch</a></td><td class=\"desc\">Matches if an HTML node is a text node </td></tr>\n<tr id=\"row_0_24_\"><td class=\"entry\"><span style=\"width:32px;display:inline-block;\">&#160;</span><span class=\"icona\"><span class=\"icon\">C</span></span><a class=\"el\" href=\"classhext_1_1ValueTest.html\" target=\"_self\">ValueTest</a></td><td class=\"desc\">Abstract base for every <a class=\"el\" href=\"classhext_1_1ValueTest.html\" title=\"Abstract base for every ValueTest. \">ValueTest</a> </td></tr>\n</table>\n</div><!-- directory -->\n</div><!-- contents -->\n<div id=\"nav-path\" class=\"navpath\"><!-- id is needed for treeview function! -->\n  <ul>\n    <li class=\"footer\">Generated on Tue Jul 21 2015 22:16:33 for libhext by\n    <a href=\"http://www.doxygen.org/index.html\">doxygen</a> 1.8.8 </li>\n  </ul>\n</div>\n</body>\n</html>\n","expected":[{"class_desc":"Abstract base for every Capture","class_name":"Capture"},{"class_desc":"Abstract base for every Match","class_name":"Match"},{"class_desc":"Abstract base for every ValueTest","class_name":"ValueTest"},{"class_desc":"A RAII wrapper for Gumbo","class_name":"Html"},{"class_desc":"A self-managing tree containing all values captured from HTML","class_name":"ResultTree"},{"class_desc":"Captures an HTML Element's attribute","class_name":"AttributeCapture"},{"class_desc":"Captures the result of applying a function to an HTML node","class_name":"FunctionCapture"},{"class_desc":"Extracts ResultTrees from HTML","class_name":"Extractor"},{"class_desc":"Extracts values from HTML","class_name":"Rule"},{"class_desc":"Matches HTML elements having an HTML attribute with a certain name and, optionally, whose value is matched by a ValueTest","class_name":"AttributeMatch"},{"class_desc":"Matches HTML elements that have a certain amount of children of type element (exluding text nodes, document nodes and others)","class_name":"ChildCountMatch"},{"class_desc":"Matches HTML elements that have a certain amount of HTML attributes","class_name":"AttributeCountMatch"},{"class_desc":"Matches HTML nodes for which every given Match returns false","class_name":"NegateMatch"},{"class_desc":"Matches HTML nodes having a certain position within their parent HTML element","class_name":"NthChildMatch"},{"class_desc":"Matches HTML nodes that are the only child of their parent HTML element","class_name":"OnlyChildMatch"},{"class_desc":"Matches if an HTML node is a text node","class_name":"TextNodeMatch"},{"class_desc":"Matches if the result of applying a given CaptureFunction to an HTML node passes a ValueTest","class_name":"FunctionMatch"},{"class_desc":"Negates the result of another ValueTest","class_name":"NegateTest"},{"class_desc":"Tests whether another string matches a given regex","class_name":"RegexTest"},{"class_desc":"Tests whether a string begins with a given literal","class_name":"BeginsWithTest"},{"class_desc":"Tests whether a string contains a given literal","class_name":"ContainsTest"},{"class_desc":"Tests whether a string contains all given words","class_name":"ContainsWordsTest"},{"class_desc":"Tests whether a string ends with a given literal","class_name":"EndsWithTest"},{"class_desc":"Tests whether a string equals a given literal","class_name":"EqualsTest"},{"class_desc":"The exception that is thrown when parsing invalid hext","class_name":"SyntaxError"},{"class_desc":"The hext namespace is the top level namespace for everything in libhext","class_name":"hext"}]},{"name":"empty-literal-attrib","hext":"<div id==\"\" class:class/>\n","html":"<html>\n  <head>\n  </head>\n  <body>\n    <div id=\"\" class=\"empty-id\"></div>\n    <div id=\"nope\" class=\"nope\"></div>\n    <div class=\"no-attrib-id\"></div>\n    <a href=\"asd#asd\" class=\"href\"></a>\n  </body>\n</html>\n","expected":[{"class":"empty-id"}]},{"name":"empty-node","hext":"<*:empty class:class/>\n","html":"<html>\n  <body>\n    <div class=\"not-empty\">\n      <div class=\"not-empty\">\n        <div class=\"not-empty\">\n          <div class=\"empty1\"></div>\n          <div class=\"empty2\"></div>\n        </div>\n      </div>\n      <div class=\"empty3\"></div>\n    </div>\n    <div class=\"empty4\"></div>\n  </body>\n</html>\n","expected":[{"class":"empty1"},{"class":"empty2"},{"class":"empty3"},{"class":"empty4"}]},{"name":"encoding-agnostic","hext":"<p @text*=\"那\" @text:content />\n","html":"<html>\n  <head>\n  </head>\n  <body>\n    <p>\n      爱因斯坦，扮成罗宾汉<br>\n      随着他在树干的回忆<br>\n      一个小时前就这样过去了<br>\n      随着他的朋友，一个嫉妒的和尚<br>\n      他看上去是那么一尘不染可怕<br>\n      当他早起床实在香烟<br>\n      然后，他去了嗅探排水管<br>\n      而背诵字母表<br>\n      现在，你不会想看看他<br>\n      但他成名已久以前<br>\n      对于玩电小提琴<br>\n      在荒凉行<br>\n    </p>\n    <p>\n      爱因斯坦，扮成罗宾汉<br>\n      随着他在树干的回忆<br>\n      一个小时前就这样过去了<br>\n      随着他的朋友，一个嫉妒的和尚<br>\n      他看上去是 么一尘不染可怕<br>\n      当他早起床实在香烟<br>\n      然后，他去了嗅探排水管<br>\n      而背诵字母表<br>\n      现在，你不会想看看他<br>\n      但他成名已久以前<br>\n      对于玩电小提琴<br>\n      在荒凉行<br>\n    </p>\n  </body>\n</html>\n","expected":[{"content":"爱因斯坦，扮成罗宾汉 随着他在树干的回忆 一个小时前就这样过去了 随着他的朋友，一个嫉妒的和尚 他看上去是那么一尘不染可怕 当他早起床实在香烟 然后，他去了嗅探排水管 而背诵字母表 现在，你不会想看看他 但他成名已久以前 对于玩电小提琴 在荒凉行"}]},{"name":"escapes","hext":"<a title=~/bla \\/\\d+\\// title:filter(/\\/(\\d+)\\//):number/>\n","html":"<html>\n  <body>\n    <a title=\"bla /1/\"></a>\n    <a title=\"bla /2/\"></a>\n    <a title=\"bla /3/\"></a>\n    <a title=\"bla /4/\"></a>\n    <a title=\"bla /5/\"></a>\n    <a title=\"bla /6/\"></a>\n    <a title=\"bla /7/\"></a>\n    <a title=\"bla 97/\"></a>\n    <a title=\"bla 98\"></a>\n    <a title=\"bla /99\"></a>\n  </body>\n</html>\n","expected":[{"number":"1"},{"number":"2"},{"number":"3"},{"number":"4"},{"number":"5"},{"number":"6"},{"number":"7"}]},{"name":"first-child","hext":"<*:first-child class:class/>\n","html":"<div class=\"first-div\">\n  <ul>\n    <li class=\"first-li\"></li>\n    <li class=\"nope\"></li>\n    <li class=\"nope\"></li>\n    <li class=\"nope\"></li>\n    <li class=\"nope\"></li>\n    <li class=\"nope\"></li>\n    <li class=\"nope\"></li>\n  </ul>\n</div>\n","expected":[{"class":"first-div"},{"class":"first-li"}]},{"name":"greedy-example","hext":"<h1 @text:heading />\n<+div>\n  <a href:href @text:title />\n</div>\n","html":"<h1>Heading 1</h1>\n<div>\n  <a href=\"one.html\">One</a>\n</div>\n\n<h1>Heading 2</h1>\n<div>\n  <a href=\"two.html\">Two</a>\n</div>\n<h2>Subheading 2.1</h2>\n<div>\n  <a href=\"three.html\">Three</a>\n</div>\n\n<p>Archive</p>\n\n<h1>Heading 3</h1>\n<div>\n  <a href=\"four.html\">Four</a>\n</div>\n\n","expected":[{"heading":"Heading 1","href":"one.html","title":"One"},{"heading":"Heading 2","href":["two.html","three.html"],"title":["Two","Three"]},{"heading":"Heading 3","href":"four.html","title":"Four"}]},{"name":"greedy-vs-mandatory","hext":"<+p class:greedy1 />\n<h1 class:h />\n<+p class:greedy2 />\n<p class:p />\n","html":"<p class=\"greedy1\"></p>\n<h1 class=\"h1\"></h1>\n<p class=\"greedy2\"></p>\n<p class=\"p1\"></p>\n\n<p class=\"greedy1\"></p>\n<p class=\"greedy1\"></p>\n<h1 class=\"h1\"></h1>\n<p class=\"greedy2\"></p>\n<p class=\"p1\"></p>\n<p class=\"p2\"></p>\n\n","expected":[{"greedy1":"greedy1","greedy2":"greedy2","h":"h1","p":"p1"},{"greedy1":["greedy1","greedy1"],"greedy2":"greedy2","h":"h1","p":"p1"}]},{"name":"hext-github-issue7","hext":"<div>\n  <h3><a @text:title /></h3>\n  <+p @text:body />\n</div>\n","html":"<li>\n  <div>\n    <h5>\n      Heading 1\n    </h5>\n  </div>\n  <div>\n    <h3>\n      <a href=\"link\">Link text 1</a>\n    </h3>\n    <p>Line 1.1</p>\n    <p>Line 1.2</p>\n    <p></p>\n  </div>\n  <div>\n    <h4>\n      Heading 2\n    </h4>\n    <p>\n      Text 1\n    </p>\n  </div>\n</li>\n\n<li>\n  <div>\n    <h5>\n      Heading 3\n    </h5>\n  </div>\n  <div>\n    <h3>\n      <a href=\"link\">Link text 2</a>\n    </h3>\n    <p></p>\n    <p>Line 2.2</p>\n    <p></p>\n  </div>\n  <div>\n    <h4>\n      Heading 4\n    </h4>\n    <p>\n      Text 2\n    </p>\n  </div>\n</li>\n","expected":[{"body":["Line 1.1","Line 1.2",""],"title":"Link text 1"},{"body":["","Line 2.2",""],"title":"Link text 2"}]},{"name":"icase-quoted-regex","hext":"<a class=~\"^[drow]+$\"i class:class />\n","html":"<html>\n  <head>\n  </head>\n  <body>\n    <a class=\"WORD\"></a>\n    <a class=\"word\"></a>\n    <a class=\"WoRd\"></a>\n    <a class=\"Word\"></a>\n    <a class=\"NOPE\"></a>\n    <a class=\"nOpE\"></a>\n    <a class=\"nope\"></a>\n    <a class=\"no\"></a>\n  </body>\n</html>\n","expected":[{"class":"word"},{"class":"Word"},{"class":"WoRd"},{"class":"WORD"}]},{"name":"icase-regex","hext":"<a class=~/^[drow]+$/i class:class/>\n","html":"<html>\n  <head>\n  </head>\n  <body>\n    <a class=\"WORD\"></a>\n    <a class=\"word\"></a>\n    <a class=\"WoRd\"></a>\n    <a class=\"Word\"></a>\n    <a class=\"NOPE\"></a>\n    <a class=\"nOpE\"></a>\n    <a class=\"nope\"></a>\n    <a class=\"no\"></a>\n  </body>\n</html>\n","expected":[{"class":"word"},{"class":"Word"},{"class":"WoRd"},{"class":"WORD"}]},{"name":"inner-html-body","hext":"<body @inner-html:html />\n","html":"<!DOCTYPE html>\n<html>\n  <head>\n    <title>title</title>\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <div class=\"asd\">\n      <!-- comment -->\n      <img alt=\"test\" src=\"1.png\" />\n    </div>\n  </body>\n</html>\n","expected":[{"html":"\n    <div class=\"asd\">\n      <!-- comment -->\n      <img alt=\"test\" src=\"1.png\"/>\n    </div>\n  \n\n"}]},{"name":"inner-html-div","hext":"<div @inner-html:html />\n","html":"<!DOCTYPE html>\n<html>\n  <head>\n    <title>title</title>\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <div class=\"asd\">\n      <!-- comment -->\n      <img alt=\"test\" src=\"1.png\" />\n    </div>\n  </body>\n</html>\n","expected":[{"html":"\n      <!-- comment -->\n      <img alt=\"test\" src=\"1.png\"/>\n    "}]},{"name":"inner-html-full","hext":"<html @inner-html:html />\n","html":"<!DOCTYPE html>\n<html>\n  <head>\n    <title>title</title>\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <div class=\"asd\">\n      <!-- comment -->\n      <img alt=\"test\" src=\"1.png\" />\n    </div>\n  </body>\n</html>\n","expected":[{"html":"<head>\n    <title>title</title>\n    <meta charset=\"utf-8\"/>\n  </head>\n  <body>\n    <div class=\"asd\">\n      <!-- comment -->\n      <img alt=\"test\" src=\"1.png\"/>\n    </div>\n  \n\n</body>"}]},{"name":"inner-html-head","hext":"<head @inner-html:html />\n","html":"<!DOCTYPE html>\n<html>\n  <head>\n    <title>title</title>\n    <meta charset=\"utf-8\" />\n  </head>\n  <body>\n    <div class=\"asd\">\n      <!-- comment -->\n      <img alt=\"test\" src=\"1.png\" />\n    </div>\n  </body>\n</html>\n","expected":[{"html":"\n    <title>title</title>\n    <meta charset=\"utf-8\"/>\n  "}]},{"name":"inner-html-inserted-element","hext":"<html @inner-html:html />\n","html":"a\n","expected":[{"html":"<head></head><body>a\n</body>"}]},{"name":"last-child","hext":"<*:last-child class:class/>\n","html":"<div class=\"first-div\">\n  <ul>\n    <li class=\"7 first-li\"></li>\n    <li class=\"6 nope\"></li>\n    <li class=\"5 nope\"></li>\n    <li class=\"4 nope\"></li>\n    text\n    <li class=\"3 nope\"></li>\n    text\n    <li class=\"2 nope\"></li>\n    text\n    <li class=\"1 last-li\"></li>\n  </ul>\n</div>\n","expected":[{"class":"1 last-li"},{"class":"first-div"}]},{"name":"mandatory-precedence","hext":"<p class:num />\n<?p class:optional />\n","html":"<html>\n  <head></head>\n  <body>\n    <p class=\"1\"></p>\n    <p class=\"2\"></p>\n    <p class=\"3\"></p>\n    <p class=\"4\"></p>\n    <p class=\"5\"></p>\n    <p class=\"6\"></p>\n    <p class=\"7\"></p>\n    <p class=\"8\"></p>\n  </body>\n</html>\n","expected":[{"num":"1"},{"num":"2"},{"num":"3"},{"num":"4"},{"num":"5"},{"num":"6"},{"num":"7"},{"num":"8"}]},{"name":"mandatory-precedence-recursive","hext":"<?span class:optional>\n  <?span class:opt_inner_optional />\n  <span class:opt_inner_num />\n  <?span class:opt_inner_optional />\n</span>\n<span class:num>\n  <?span class:inner_optional />\n  <span class:inner_num />\n  <?span class:inner_optional />\n</span>\n<?span class:optional>\n  <?span class:opt_inner_optional />\n  <span class:opt_inner_num />\n</span>\n","html":"<html>\n  <head></head>\n  <body>\n    <span class=\"1\">\n      <span class=\"1\"></span>\n      <span class=\"2\"></span>\n      <span class=\"3\"></span>\n      <span class=\"4\"></span>\n      <span class=\"5\"></span>\n      <span class=\"6\"></span>\n      <span class=\"7\"></span>\n      <span class=\"8\"></span>\n    </span>\n    <span class=\"2\">\n      <span class=\"1\"></span>\n      <span class=\"2\"></span>\n      <span class=\"3\"></span>\n      <span class=\"4\"></span>\n      <span class=\"5\"></span>\n      <span class=\"6\"></span>\n      <span class=\"7\"></span>\n      <span class=\"8\"></span>\n    </span>\n    <span class=\"3\">\n      <span class=\"1\"></span>\n      <span class=\"2\"></span>\n      <span class=\"3\"></span>\n      <span class=\"4\"></span>\n      <span class=\"5\"></span>\n      <span class=\"6\"></span>\n      <span class=\"7\"></span>\n      <span class=\"8\"></span>\n    </span>\n    <span class=\"4\">\n      <span class=\"1\"></span>\n      <span class=\"2\"></span>\n      <span class=\"3\"></span>\n      <span class=\"4\"></span>\n      <span class=\"5\"></span>\n      <span class=\"6\"></span>\n      <span class=\"7\"></span>\n      <span class=\"8\"></span>\n    </span>\n    <span class=\"5\">\n      <span class=\"1\"></span>\n      <span class=\"2\"></span>\n      <span class=\"3\"></span>\n      <span class=\"4\"></span>\n      <span class=\"5\"></span>\n      <span class=\"6\"></span>\n      <span class=\"7\"></span>\n      <span class=\"8\"></span>\n    </span>\n    <span class=\"6\">\n      <span class=\"1\"></span>\n      <span class=\"2\"></span>\n      <span class=\"3\"></span>\n      <span class=\"4\"></span>\n      <span class=\"5\"></span>\n      <span class=\"6\"></span>\n      <span class=\"7\"></span>\n      <span class=\"8\"></span>\n    </span>\n    <span class=\"7\">\n      <span class=\"1\"></span>\n      <span class=\"2\"></span>\n      <span class=\"3\"></span>\n      <span class=\"4\"></span>\n      <span class=\"5\"></span>\n      <span class=\"6\"></span>\n      <span class=\"7\"></span>\n      <span class=\"8\"></span>\n    </span>\n    <span class=\"8\">\n      <span class=\"1\"></span>\n      <span class=\"2\"></span>\n      <span class=\"3\"></span>\n      <span class=\"4\"></span>\n      <span class=\"5\"></span>\n      <span class=\"6\"></span>\n      <span class=\"7\"></span>\n      <span class=\"8\"></span>\n    </span>\n  </body>\n</html>\n","expected":[{"inner_num":["1","2","3","4","5","6","7","8"],"num":"1"},{"inner_num":["1","2","3","4","5","6","7","8"],"num":"2"},{"inner_num":["1","2","3","4","5","6","7","8"],"num":"3"},{"inner_num":["1","2","3","4","5","6","7","8"],"num":"4"},{"inner_num":["1","2","3","4","5","6","7","8"],"num":"5"},{"inner_num":["1","2","3","4","5","6","7","8"],"num":"6"},{"inner_num":["1","2","3","4","5","6","7","8"],"num":"7"},{"inner_num":["1","2","3","4","5","6","7","8"],"num":"8"}]},{"name":"mandatory-precedence-reverse","hext":"<?p class:optional />\n<p class:num />\n","html":"<html>\n  <head></head>\n  <body>\n    <p class=\"1\"></p>\n    <p class=\"2\"></p>\n    <p class=\"3\"></p>\n    <p class=\"4\"></p>\n    <p class=\"5\"></p>\n    <p class=\"6\"></p>\n    <p class=\"7\"></p>\n    <p class=\"8\"></p>\n  </body>\n</html>\n","expected":[{"num":"1"},{"num":"2"},{"num":"3"},{"num":"4"},{"num":"5"},{"num":"6"},{"num":"7"},{"num":"8"}]},{"name":"manda-trailing-optional","hext":"<a class:a_class/>\n<?div class:div_class/>\n","html":"<html>\n<body>\n  <a class=\"first-a\"></a>\n  <div class=\"optional-div\"></div>\n  <a class=\"second-a\"></a>\n</body>\n</html>\n","expected":[{"a_class":"first-a","div_class":"optional-div"},{"a_class":"second-a"}]},{"name":"man-opt-opt-man","hext":"<a>\n  <?span class:first_opt_span>\n    <?span class:secnd_opt_span>\n      <span class:trd_manda_span />\n    </span>\n  </span>\n</a>\n","html":"<a href=\"\">\n  <span class=\"-span1\">\n    <span class=\"--span1\">\n      <span class=\"---span1\"></span>\n    </span>\n    <span class=\"--span2 NOPE\">\n      <b>nope</b>\n    </span>\n  </span>\n</a>\n","expected":[{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"}]},{"name":"man-opt-opt-man-nested","hext":"<a>\n  <?span class:first_opt_span>\n    <?span class:secnd_opt_span>\n      <span class:trd_manda_span />\n    </span>\n  </span>\n</a>\n","html":"<a href=\"\">\n  <span class=\"-span1\">\n    <span class=\"--span1\">\n      <span class=\"---span1\"></span>\n      <a href=\"\">\n        <span class=\"-span1\">\n          <span class=\"--span1\">\n            <span class=\"---span1\"></span>\n          </span>\n          <span class=\"--span2 NOPE\">\n            <b>nope</b>\n          </span>\n        </span>\n      </a>\n    </span>\n    <span class=\"--span2 NOPE\">\n      <b>nope</b>\n    </span>\n    <a href=\"\">\n      <span class=\"-span1\">\n        <span class=\"--span1\">\n          <span class=\"---span1\"></span>\n          <a href=\"\">\n            <span class=\"-span1\">\n              <span class=\"--span1\">\n                <span class=\"---span1\"></span>\n              </span>\n              <span class=\"--span2 NOPE\">\n                <b>nope</b>\n              </span>\n            </span>\n          </a>\n        </span>\n        <span class=\"--span2 NOPE\">\n          <a href=\"\">\n            <span class=\"-span1\">\n              <span class=\"--span1\">\n                <span class=\"---span1\"></span>\n              </span>\n              <span class=\"--span2 NOPE\">\n                <b>nope</b>\n              </span>\n            </span>\n          </a>\n          <b>nope</b>\n          <a href=\"\">\n            <span class=\"-span1\">\n              <span class=\"--span1\">\n                <span class=\"---span1\"></span>\n              </span>\n              <span class=\"--span2 NOPE\">\n                <b>nope</b>\n              </span>\n            </span>\n          </a>\n        </span>\n      </span>\n    </a>\n  </span>\n</a>\n","expected":[{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"}]},{"name":"man-opt-opt-man-opt","hext":"<a>\n  <?span class:1_opti_span>\n    <?span class:2_opti_span>\n      <span class:3_mand_span>\n        <?span class:4_opti_span/>\n      </span>\n    </span>\n  </span>\n</a>\n","html":"<a href=\"\">\n  <span class=\"-span1\">\n    <span class=\"--span1\">\n      <span class=\"---span1\">\n        <span class=\"----span1\"></span>\n      </span>\n    </span>\n    <span class=\"--span2 dupl\">\n      <span class=\"---span1 dupl\">\n        <b class=\"error\">nope</b>\n      </span>\n    </span>\n  </span>\n</a>\n","expected":[{"1_opti_span":"-span1","2_opti_span":["--span1","--span2 dupl"],"3_mand_span":["---span1","---span1 dupl"],"4_opti_span":"----span1"}]},{"name":"matched-but-no-capture","hext":"<a href:href?/>\n","html":"<html>\n  <head>\n  </head>\n  <body>\n    <a href=\"yes\"></a>\n    <a></a>\n    <a></a>\n    <a></a>\n    <a></a>\n    <a></a>\n    <a></a>\n    <a></a>\n    <a></a>\n    <a></a>\n  </body>\n</html>\n","expected":[{"href":"yes"}]},{"name":"multiple-nested-rules","hext":"<*>\n  {\n    <p @text:content />\n  }\n  {\n    <a href:href />\n  }\n</*>\n","html":"<html>\n  <body>\n    <div> <p>P1 <a href=\"p1-href\"></a></p> </div>\n    <div> <p>P2 <a href=\"p2-href\"></a></p> </div>\n  </body>\n</html>\n","expected":[{"content":["P1","P2"],"href":["p1-href","p2-href"]},{"content":["P1","P2"],"href":["p1-href","p2-href"]},{"content":"P1","href":"p1-href"},{"content":"P2","href":"p2-href"}]},{"name":"negate-value","hext":"<a class=\"not\"! class:class/>\n","html":"<html>\n  <head>\n  </head>\n  <body>\n  <a class=\"not\" href=\"yes not yes\"></a>\n  <a class=\"yes\" href=\"apples\"></a>\n  <a class=\"yes\" href=\"oranges\"></a>\n  <a class=\"not\" href=\"yes not\"></a>\n  <a class=\"not\" href=\"not apples\"></a>\n  <a class=\"not\" href=\"yes not\"></a>\n  <a class=\"yes\" href=\"\"></a>\n  </body>\n</html>\n","expected":[{"class":"yes"},{"class":"yes"},{"class":"yes"}]},{"name":"nested-rule-direct-descendant","hext":"<div id>\n  {\n    <div class:class>\n      {\n        <p @text:p />\n      }\n    </div>\n  }\n</div>\n","html":"<html>\n  <body>\n    <div id=\"list1\" class=\"list1\">\n      <div class=\"item1\"><p>One</p>  </div>\n      <div class=\"item2\"><p>Two</p>  </div>\n      <div class=\"item3\"><p>Three</p></div>\n    </div>\n    <div id=\"list2\" class=\"list2\">\n      <div class=\"item4\"><p>Four</p> </div>\n      <div class=\"item5\"><p>Five</p> </div>\n      <div class=\"item6\"><p>Six</p>  </div>\n    </div>\n  </body>\n</html>\n","expected":[{"class":["item1","item2","item3"],"p":["One","Two","Three"]},{"class":["item4","item5","item6"],"p":["Four","Five","Six"]}]},{"name":"nested-rule-sibling","hext":"<*>\n  <div/>\n  <div/>\n  <div/>\n  {\n    <p @text:p />\n  }\n</*>\n","html":"<html>\n  <body>\n    <div id=\"list1\" class=\"list1\">\n      <div class=\"item\"><p>One</p>  </div>\n      <div class=\"item\"><p>Two</p>  </div>\n      <div class=\"item\"><p>Three</p></div>\n    </div>\n    <div id=\"list2\" class=\"list2\">\n      <div class=\"item\"><p>Four</p> </div>\n      <div class=\"item\"><p>Five</p> </div>\n      <div class=\"item\"><p>Six</p>  </div>\n    </div>\n  </body>\n</html>\n","expected":[{"p":["One","Two","Three"]},{"p":["Four","Five","Six"]}]},{"name":"nested-rule-simple-example","hext":"<div class:class id>\n  {\n    <p @text:content />\n  }\n</div>\n","html":"<html>\n  <body>\n    <div id=\"list1\" class=\"list1\">\n      <div class=\"item\"><p>One</p>  </div>\n      <div class=\"item\"><p>Two</p>  </div>\n      <div class=\"item\"><p>Three</p></div>\n    </div>\n    <div id=\"list2\" class=\"list2\">\n      <div class=\"item\"><p>Four</p> </div>\n      <div class=\"item\"><p>Five</p> </div>\n      <div class=\"item\"><p>Six</p>  </div>\n    </div>\n  </body>\n</html>\n","expected":[{"class":"list1","content":["One","Two","Three"]},{"class":"list2","content":["Four","Five","Six"]}]},{"name":"not-trait","hext":"<*:not(:empty) class:class/>\n","html":"<html>\n  <body>\n    <div class=\"non-empty1\">\n      <div class=\"empty1\"></div>\n      <div class=\"non-empty2\">\n        <div class=\"empty2\"></div>\n        <div class=\"empty3\"></div>\n      </div>\n    </div>\n  </body>\n</html>\n","expected":[{"class":"non-empty1"},{"class":"non-empty2"}]},{"name":"nth-child","hext":"<ul class:div>\n  <li:nth-child(3n+1) class:link/>\n</ul>\n\n","html":"<html>\n  <head>\n    <style type=\"text/css\">\n      ul {\n        list-style:numeric;\n      }\n      li:after {\n        content: \"node\";\n      }\n      li:nth-child(-2n+5) {\n        color:red;\n      }\n    </style>\n  </head>\n  <body>\n    <ul class=\"anchor1 first\">\n      <li class=\"child1 first\"></li>\n      <li class=\"child2\"></li>\n      <li class=\"child3\"></li>\n      <li class=\"child4\"></li>\n      <li class=\"child5\"></li>\n      <li class=\"child6\"></li>\n      <li class=\"child7\"></li>\n      <li class=\"child8\"></li>\n      <li class=\"child9\"></li>\n      <li class=\"child10\"></li>\n      <li class=\"child11\"></li>\n      <li class=\"child12\"></li>\n      <li class=\"child13\"></li>\n      <li class=\"child14 last\"></li>\n    </ul>\n    <ul class=\"anchor2\">\n      <li class=\"child1 first\"></li>\n      <li class=\"child2\"></li>\n      <li class=\"child3\"></li>\n      <li class=\"child4\"></li>\n      <li class=\"child5\"></li>\n      <li class=\"child6\"></li>\n      <li class=\"child7\"></li>\n      <li class=\"child8\"></li>\n      <li class=\"child9\"></li>\n      <li class=\"child10\"></li>\n      <li class=\"child11\"></li>\n      <li class=\"child12\"></li>\n      <li class=\"child13\"></li>\n      <li class=\"child14 last\"></li>\n    </ul>\n    <ul class=\"anchor3\">\n      <li class=\"child1 first\"></li>\n      <li class=\"child2\"></li>\n      <li class=\"child3\"></li>\n      <li class=\"child4\"></li>\n      <li class=\"child5\"></li>\n      <li class=\"child6\"></li>\n      <li class=\"child7\"></li>\n      <li class=\"child8\"></li>\n      <li class=\"child9\"></li>\n      <li class=\"child10\"></li>\n      <li class=\"child11\"></li>\n      <li class=\"child12\"></li>\n      <li class=\"child13\"></li>\n      <li class=\"child14 last\"></li>\n    </ul>\n    <ul class=\"anchor4\">\n      <li class=\"child1 first\"></li>\n      <li class=\"child2\"></li>\n      <li class=\"child3\"></li>\n      <li class=\"child4\"></li>\n      <li class=\"child5\"></li>\n      <li class=\"child6\"></li>\n      <li class=\"child7\"></li>\n      <li class=\"child8\"></li>\n      <li class=\"child9\"></li>\n      <li class=\"child10\"></li>\n      <li class=\"child11\"></li>\n      <li class=\"child12\"></li>\n      <li class=\"child13\"></li>\n      <li class=\"child14 last\"></li>\n    </ul>\n    <ul class=\"anchor5\">\n      <li class=\"child1 first\"></li>\n      <li class=\"child2\"></li>\n      <li class=\"child3\"></li>\n      <li class=\"child4\"></li>\n      <li class=\"child5\"></li>\n      <li class=\"child6\"></li>\n      <li class=\"child7\"></li>\n      <li class=\"child8\"></li>\n      <li class=\"child9\"></li>\n      <li class=\"child10\"></li>\n      <li class=\"child11\"></li>\n      <li class=\"child12\"></li>\n      <li class=\"child13\"></li>\n      <li class=\"child14 last\"></li>\n    </ul>\n    <ul class=\"anchor6\">\n      <li class=\"child1 first\"></li>\n      <li class=\"child2\"></li>\n      <li class=\"child3\"></li>\n      <li class=\"child4\"></li>\n      <li class=\"child5\"></li>\n      <li class=\"child6\"></li>\n      <li class=\"child7\"></li>\n      <li class=\"child8\"></li>\n      <li class=\"child9\"></li>\n      <li class=\"child10\"></li>\n      <li class=\"child11\"></li>\n      <li class=\"child12\"></li>\n      <li class=\"child13\"></li>\n      <li class=\"child14 last\"></li>\n    </ul>\n    <ul class=\"anchor7 last\">\n      <li class=\"child1 first\"></li>\n      <li class=\"child2\"></li>\n      <li class=\"child3\"></li>\n      <li class=\"child4\"></li>\n      <li class=\"child5\"></li>\n      <li class=\"child6\"></li>\n      <li class=\"child7\"></li>\n      <li class=\"child8\"></li>\n      <li class=\"child9\"></li>\n      <li class=\"child10\"></li>\n      <li class=\"child11\"></li>\n      <li class=\"child12\"></li>\n      <li class=\"child13\"></li>\n      <li class=\"child14 last\"></li>\n    </ul>\n  </body>\n</html>\n","expected":[{"div":"anchor1 first","link":["child1 first","child4","child7","child10","child13"]},{"div":"anchor2","link":["child1 first","child4","child7","child10","child13"]},{"div":"anchor3","link":["child1 first","child4","child7","child10","child13"]},{"div":"anchor4","link":["child1 first","child4","child7","child10","child13"]},{"div":"anchor5","link":["child1 first","child4","child7","child10","child13"]},{"div":"anchor6","link":["child1 first","child4","child7","child10","child13"]},{"div":"anchor7 last","link":["child1 first","child4","child7","child10","child13"]}]},{"name":"only-child","hext":"<*:only-child class:class/>\n","html":"<div class=\"only-child div\">\n  <div class=\"nope1\"></div>\n  <div class=\"nope2\"></div>\n  <div class=\"nope3\">\n    <span class=\"only-child span\"></span>\n  </div>\n</div>\n","expected":[{"class":"only-child div"},{"class":"only-child span"}]},{"name":"optdiv-div-greedyul-li-li-optdiv","hext":"<?div class:c />\n<div class:c >\n  <+ul class:c >\n    <li class:c />\n    <li class:c />\n  </ul>\n</div>\n<?div class:c />\n","html":"<div class=\"1\"> \n  <div class=\"2\"><ul class=\"3\"><li class=\"4\"></li><li class=\"5\"></li></ul></div>\n  <div class=\"6\"><ul class=\"7\"><li class=\"8\"></li><li class=\"9\"></li></ul></div>\n</div> \n<div class=\"10\"> \n  <div class=\"11\"><ul class=\"12\"><li class=\"13\"></li><li class=\"14\"></li></ul></div>\n  <div class=\"15\"><ul class=\"16\"><li class=\"17\"></li><li class=\"18\"></li></ul></div>\n</div> \n<div class=\"19\"> \n  <div class=\"20\"><ul class=\"21\"><li class=\"22\"></li><li class=\"23\"></li></ul></div>\n  <div class=\"24\"> \n    <ul class=\"25\"> \n      <li class=\"26\"></li> \n      <li class=\"27\"></li> \n    </ul> \n    <div class=\"28\"><ul class=\"29\"><li class=\"30\"></li><li class=\"31\"></li></ul></div>\n  </div>\n</div>\n","expected":[{"c":["4","5","3","2"]},{"c":["8","9","7","6"]},{"c":["13","14","12","11"]},{"c":["17","18","16","15"]},{"c":["22","23","21","20"]},{"c":["26","27","25","24"]},{"c":["30","31","29","28"]}]},{"name":"optional-child-mandatory-grand-child","hext":"<a @text:no_span>\n  <?p @text:nope>\n    <span />\n  </p>\n</a>\n","html":"<a href='href'><img src='src' /><p>no <b>span</b></p></a>\n","expected":[{"no_span":"no span"}]},{"name":"optional-grand-child","hext":"<div @text:no_span>\n  <p>\n    <?span />\n  </p>\n</div>\n","html":"<html>\n  <head></head>\n  <body>\n  <div>\n    <img src='src' />\n    <p>no <b>span</b></p>\n  </div>\n  </body>\n</html>\n","expected":[{"no_span":"no span"}]},{"name":"optional-greedy-any-match","hext":"<?+* @inner-html:x @inner-html==\"\"! />\n","html":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Example</title>\n  </head>\n  <body>\n    <a href=\"one.html\">  Page 1</a>\n    <a href=\"two.html\">  Page 2</a>\n    <a href=\"three.html\">Page 3</a>\n  </body>\n</html>","expected":[{"x":"<head>\n    <meta charset=\"utf-8\"/>\n    <title>Example</title>\n  </head>\n  <body>\n    <a href=\"one.html\">  Page 1</a>\n    <a href=\"two.html\">  Page 2</a>\n    <a href=\"three.html\">Page 3</a>\n  \n</body>"},{"x":["\n    <meta charset=\"utf-8\"/>\n    <title>Example</title>\n  ","\n    <a href=\"one.html\">  Page 1</a>\n    <a href=\"two.html\">  Page 2</a>\n    <a href=\"three.html\">Page 3</a>\n  \n"]},{"x":"Example"},{"x":["  Page 1","  Page 2","Page 3"]}]},{"name":"opt-opt-opt-man-nested","hext":"<?a>\n  <?span class:first_opt_span>\n    <?span class:secnd_opt_span>\n      <span class:trd_manda_span />\n    </span>\n  </span>\n</a>\n","html":"<a href=\"\">\n  <span class=\"-span1\">\n    <span class=\"--span1\">\n      <span class=\"---span1\"></span>\n      <a href=\"\">\n        <span class=\"-span1\">\n          <span class=\"--span1\">\n            <span class=\"---span1\"></span>\n          </span>\n          <span class=\"--span2 NOPE\">\n            <b>nope</b>\n          </span>\n        </span>\n      </a>\n    </span>\n    <span class=\"--span2 NOPE\">\n      <b>nope</b>\n    </span>\n    <a href=\"\">\n      <span class=\"-span1\">\n        <span class=\"--span1\">\n          <span class=\"---span1\"></span>\n          <a href=\"\">\n            <span class=\"-span1\">\n              <span class=\"--span1\">\n                <span class=\"---span1\"></span>\n              </span>\n              <span class=\"--span2 NOPE\">\n                <b>nope</b>\n              </span>\n            </span>\n          </a>\n        </span>\n        <span class=\"--span2 NOPE\">\n          <a href=\"\">\n            <span class=\"-span1\">\n              <span class=\"--span1\">\n                <span class=\"---span1\"></span>\n              </span>\n              <span class=\"--span2 NOPE\">\n                <b>nope</b>\n              </span>\n            </span>\n          </a>\n          <b>nope</b>\n          <a href=\"\">\n            <span class=\"-span1\">\n              <span class=\"--span1\">\n                <span class=\"---span1\"></span>\n              </span>\n              <span class=\"--span2 NOPE\">\n                <b>nope</b>\n              </span>\n            </span>\n          </a>\n        </span>\n      </span>\n    </a>\n  </span>\n</a>\n","expected":[{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"},{"first_opt_span":"-span1","secnd_opt_span":"--span1","trd_manda_span":"---span1"}]},{"name":"page-attr-optional","hext":"<a href:link name:anchor? />\n","html":"<a href=\"link1\" name=\"anchor1\"></a>\n<a href=\"link2\"></a>\n<a href=\"link3\" name=\"anchor3\"></a>\n<a href=\"link4\" name=\"\"></a>\n<a name=\"anchor5 no\"></a>\n","expected":[{"anchor":"anchor1","link":"link1"},{"link":"link2"},{"anchor":"anchor3","link":"link3"},{"anchor":"","link":"link4"}]},{"name":"page-bf-heading-ci-rx","hext":"<h1 @text=~/section \\d+.\\d+/i class:class />\n","html":"<h1 class=\"yes1\">\n  Section 1.1\n</h1>\n<h1 class=\"yes2\">\n  section 13.13\n</h1>\n<h1 class=\"no1\">\n  section a.a\n</h1>\n<h1 class=\"no2\">\n  section\n</h1>\n","expected":[{"class":"yes1"},{"class":"yes2"}]},{"name":"page-bf-heading","hext":"<h1 @text^=\"News: \" class:class />\n","html":"<h1 class=\"yes\">\n  News: asd\n</h1>\n<h1 class=\"no\">\n  news: asd\n</h1>\n","expected":[{"class":"yes"}]},{"name":"page-filter-phone","hext":"<div @text:filter(/Phone: ([0-9]+)/):phone_nr />\n","html":"<div>\n  Phone: 012345689\n</div>\n<div>\n  Phone: 0\n</div>\n<div>\n</div>\n","expected":[{"phone_nr":"012345689"},{"phone_nr":"0"},{"phone_nr":""}]},{"name":"page-has-attr","hext":"<a href class:class />\n","html":"<a href class=\"yes1\"></a>\n<a href=\"#a\" class=\"yes2\"></a>\n<a class=\"no\"></a>\n","expected":[{"class":"yes1"},{"class":"yes2"}]},{"name":"page-match-h1-time-p","hext":"<h1 class:h1_class />\n<?time class:time_class />\n<p class:p_class />\n","html":"<div>\n  <h1 class=\"heading1\">a</h1>\n  <time  class=\"time1\">a</time>\n  <p        class=\"p1\">a</p>\n  <h1 class=\"heading2\">a</h1>\n  <time  class=\"time2\">a</time>\n  <p        class=\"p2\">a</p>\n  <h1 class=\"heading3\">a</h1>\n  <time  class=\"time3\">a</time>\n  <p        class=\"p3\">a</p>\n  <h1 class=\"heading4\">a</h1>\n  <p        class=\"p4\">a</p>\n  <h1 class=\"heading5\">a</h1>\n  <time  class=\"time5\">a</time>\n  <p        class=\"p5\">a</p>\n</div>\n","expected":[{"h1_class":"heading1","p_class":"p1","time_class":"time1"},{"h1_class":"heading2","p_class":"p2","time_class":"time2"},{"h1_class":"heading3","p_class":"p3","time_class":"time3"},{"h1_class":"heading4","p_class":"p4"},{"h1_class":"heading5","p_class":"p5","time_class":"time5"}]},{"name":"page-match-trail-number","hext":"<a href=~/post-\\d+/ class:class />\n","html":"<a href=\"post-1\" class=\"yes1\"></a>\n<a href=\"post-99\" class=\"yes2\"></a>\n<a href=\"outpost-23\" class=\"yes3\"></a>\n<a href=\"outpost-23/a\" class=\"yes4\"></a>\n<a href=\"post-a\" class=\"no1\"></a>\n<a href=\"post-\" class=\"no2\"></a>\n<a href=\"\" class=\"no3\"></a>\n<a class=\"no4\"></a>\n","expected":[{"class":"yes1"},{"class":"yes2"},{"class":"yes3"},{"class":"yes4"}]},{"name":"page-negate-has-attr","hext":"<a href! class:class />\n","html":"<a href class=\"no1\"></a>\n<a href=\"#a\" class=\"no2\"></a>\n<a class=\"yes\"></a>\n","expected":[{"class":"yes"}]},{"name":"page-negate-match","hext":"<a href^=\"https:\"! class:class />\n","html":"<a class=\"yes1\"></a>\n<a href class=\"yes2\"></a>\n<a href=\"#a\" class=\"yes5\"></a>\n<a href=\"http\" class=\"yes3\"></a>\n<a href=\"https\" class=\"yes4\"></a>\n<a href=\"https:\" class=\"no1\"></a>\n<a href=\"https://asd\" class=\"no2\"></a>\n","expected":[{"class":"yes1"},{"class":"yes2"},{"class":"yes3"},{"class":"yes4"},{"class":"yes5"}]},{"name":"page-rule-children","hext":"<a class:class>\n  <img/>\n</a>\n","html":"<a class=\"yes1\">\n  <img />\n</a>\n<a class=\"yes2\">\n  Text\n  <p></p>\n  <img />\n  Text\n  <p></p>\n</a>\n<a class=\"no1\">\n</a>\n","expected":[{"class":"yes1"},{"class":"yes2"}]},{"name":"page-rule-children-two","hext":"<div class:class>\n  <span>\n    <img />\n  </span>\n</div>\n","html":"<div class=\"yes1\">\n  <span>\n    <img/>\n  </span>\n</div>\n<div class=\"yes2\">\n  <span>\n    <img/>\n  </span>\n  <span>\n    <img/>\n  </span>\n</div>\n<div class=\"no1\">\n</div>\n<div class=\"no2\">\n  <span></span>\n</div>\n<div class=\"no3\">\n  <span>\n    <span><img/></span>\n  </span>\n</div>\n<div class=\"no4\">\n  <a>\n    <img/>\n  </a>\n</div>\n<div class=\"no5\">\n  <span>\n    <span></span>\n  </span>\n</div>\n","expected":[{"class":"yes1"},{"class":"yes2"}]},{"name":"page-sp-append","hext":"<a title:append(\" ..and foo!\"):title />\n","html":"<a title=\"This is a foo\">-</a>\n<a title=\"This is a foo and a bar\">-</a>\n","expected":[{"title":"This is a foo ..and foo!"},{"title":"This is a foo and a bar ..and foo!"}]},{"name":"page-sp-case","hext":"<h1 @text:toupper:link_title />\n<h2 @text:tolower:link_title />\n","html":"<h1>This should be uppercase</h1>\n<h2>This should be lowercase</h2>\n<h1>And This shouLd be uppercase</h1>\n<h2>And This shouLd be LOWERCASE</h2>\n<h1>upper</h1>\n<h2>LOWER</h2>\n","expected":[{"link_title":["THIS SHOULD BE UPPERCASE","this should be lowercase"]},{"link_title":["AND THIS SHOULD BE UPPERCASE","and this should be lowercase"]},{"link_title":["UPPER","lower"]}]},{"name":"page-sp-collapsews","hext":"<* title:collapsews:name />\n","html":"<a title=\"  Lots   of spaces in this   title\"></a>\n","expected":[{"name":"Lots of spaces in this title"}]},{"name":"page-sp-filter","hext":"<a href:filter(/\\d+$/):user_id />\n","html":"<a href=\"user-123\">user</a>\n<a href=\"user-234\">user</a>\n<a href=\"user-345\">user</a>\n<a href=\"user-4567\">user</a>\n","expected":[{"user_id":"123"},{"user_id":"234"},{"user_id":"345"},{"user_id":"4567"}]},{"name":"page-sp-filter-post","hext":"<a href:filter(/post-(\\d+)/):post_id />\n","html":"<a href=\"/post-123/post-title\">post</a>\n<a href=\"/post-234/post-title\">post</a>\n<a href=\"/post-345/post-title\">post</a>\n<a href=\"/post-4567/post-title\">post</a>\n","expected":[{"post_id":"123"},{"post_id":"234"},{"post_id":"345"},{"post_id":"4567"}]},{"name":"page-sp-prepend","hext":"<a href:prepend(\"https://example.com/\"):video_url />\n","html":"<a href=\"index.html\">Home</a>\n<a href=\"posts.html\">Posts</a>\n<a href=\"guestbook.html\">Guestbook</a>\n","expected":[{"video_url":"https://example.com/index.html"},{"video_url":"https://example.com/posts.html"},{"video_url":"https://example.com/guestbook.html"}]},{"name":"page-sp-replace-backref","hext":"<h1 @text:replace(/(\\d+): (.*)/, \"$2 ($1)\"):head />\n","html":"<h1>1: First heading</h1>\n<h1>2: Second heading</h1>\n<h1>3: Third heading</h1>\n<h1>4: Fourth heading</h1>\n<h1>5: Fifth heading</h1>\n","expected":[{"head":"First heading (1)"},{"head":"Second heading (2)"},{"head":"Third heading (3)"},{"head":"Fourth heading (4)"},{"head":"Fifth heading (5)"}]},{"name":"page-sp-replace-foo","hext":"<p @text:replace(/foo/, \"bar\"):bar_text />\n","html":"<p>This is a foo containing foos</p>\n","expected":[{"bar_text":"This is a bar containing bars"}]},{"name":"page-sp-replace-remove","hext":"<p @text:replace(/\\d+/, \"\"):nonum />\n","html":"<p>99 bottles of beer on the wall, 98 bottles of beer on the wall</p>\n","expected":[{"nonum":" bottles of beer on the wall,  bottles of beer on the wall"}]},{"name":"page-sp-trim-dashes","hext":"<a @text:trim(\" -\"):title />\n","html":"<a> - - - - - Word - - - - - - </a>\n<a>-Word-</a>\n<a>- Word -</a>\n","expected":[{"title":"Word"},{"title":"Word"},{"title":"Word"}]},{"name":"page-sp-trim","hext":"<a @inner-html:trim:link_text />\n","html":"<a>    This is a text inside this anchor     </a>\n","expected":[{"link_text":"This is a text inside this anchor"}]},{"name":"page-teaser-h1-p","hext":"<h1/><p @text:content />\n","html":"<h1>Heading</h1>\n<p>First paragraph</p>\n<p>Not included in result</p>\n<p>Not included in result</p>\n<h1>Heading</h1>\n<p>Second paragraph</p>\n<h1>Heading</h1>\n<p>Third paragraph</p>\n<p>Not included in result</p>\n<p>Not included in result</p>\n<p>Not included in result</p>\n<p>Not included in result</p>\n","expected":[{"content":"First paragraph"},{"content":"Second paragraph"},{"content":"Third paragraph"}]},{"name":"page-teaser-prepend-post","hext":"<a title:prepend(\"Post: \"):post />\n","html":"<a title=\"Foo\">foo</a>\n<a title=\"Bar\">bar</a>\n<a title=\"Foobar\">foobar</a>\n<a title=\"Barfoo\">barfoo</a>\n","expected":[{"post":"Post: Foo"},{"post":"Post: Bar"},{"post":"Post: Foobar"},{"post":"Post: Barfoo"}]},{"name":"page-teaser-td-odd-number","hext":"<td:nth-child(odd) @text:filter(/\\d+/):number />\n","html":"<table>\n  <tbody>\n    <tr>\n      <td>Number 1</td>\n      <td>Number 2</td>\n      <td>Number 3</td>\n      <td>Number 4</td>\n      <td>Number 5</td>\n    </tr>\n    <tr>\n      <td>Number 1</td>\n      <td>Number 2</td>\n      <td>Number 3</td>\n      <td>Number 4</td>\n      <td>Number 5</td>\n    </tr>\n  </tbody>\n</table>\n","expected":[{"number":"1"},{"number":"3"},{"number":"5"},{"number":"1"},{"number":"3"},{"number":"5"}]},{"name":"page-teaser-thumbnail-src","hext":"<div class=\"thumbnail\">  <img src:image />  </div>\n","html":"<div class=\"thumbnail\">\n  <img src=\"image.jpg\" />\n</div>\n<div class=\"nope\">\n  <img src=\"nope.jpg\" />\n  <div class=\"thumbnail\">\n    <img src=\"inner-image.jpg\" />\n  </div>\n</div>\n","expected":[{"image":"image.jpg"},{"image":"inner-image.jpg"}]},{"name":"page-tryit-hatter","hext":"<tr>\n  <td><span @text:rank /></td>\n  <td><a href:href @text:title /></td>\n</tr>\n<?tr>\n  <td>\n    <span @text:score />\n    <a @text:user />\n    <a:last-child @text:filter(/\\d+/):comment_count />\n  </td>\n</tr>\n\n","html":"<table>\n  <tbody>\n    <tr>\n      <td><span>1.</span></td>\n      <td><a href=\"http://example.com/10-reasons\">\n          10 Reasons why your startup is\n          worse than mine</a></td>\n      <td><a href=\"javascript:vote()\">Vote up</a></td>\n    </tr>\n    <tr>\n      <td class=\"spacer\"></td>\n      <td class=\"subtext\">\n        <span class=\"score\">23 points</span> |\n        by <a href=\"/user/mr-robot-23\">MrRobot23</a>\n        some time ago |\n        <a href=\"/posts/1478923\">42 comments</a>\n      </td>\n    </tr>\n    <tr class=\"spacer\"></tr>\n    <tr>\n      <td><span>2.</span></td>\n      <td>\n        <a href=\"https://www.example.com/cutting-onions\">\n           The lost art of cutting onions:\n           How an outcast revolutionized food supply\n        </a>\n      </td>\n      <td><a href=\"javascript:vote()\">Vote up</a></td>\n    </tr>\n    <tr>\n      <td class=\"spacer\"></td>\n      <td class=\"subtext\">\n        <span class=\"score\">99 points</span> |\n        by <a href=\"/user/sillyvalley\">SillyValley</a>\n        some time ago |\n        <a href=\"/posts/1478930\">5 comments</a>\n      </td>\n    </tr>\n    <tr class=\"spacer\"></tr>\n    <tr>\n      <td><span>3.</span></td>\n      <td>\n        <a href=\"https://www.example.com/cppcompjs\">\n          cppcompjs: A non-blocking (web-scale) C++\n          compiler for node.js</a></td>\n      <td><a href=\"javascript:vote()\">Vote up</a></td>\n    </tr>\n    <tr>\n      <td class=\"spacer\"></td>\n      <td class=\"subtext\">\n        <span class=\"score\">235 points</span> |\n        by <a href=\"/user/malicealice\">malicealice</a>\n        some time ago |\n        <a href=\"/posts/\">144 comments</a>\n      </td>\n    </tr>\n    <tr class=\"spacer\"></tr>\n  </tbody>\n</table>\n\n","expected":[{"comment_count":"42","href":"http://example.com/10-reasons","rank":"1.","score":"23 points","title":"10 Reasons why your startup is worse than mine","user":"MrRobot23"},{"comment_count":"5","href":"https://www.example.com/cutting-onions","rank":"2.","score":"99 points","title":"The lost art of cutting onions: How an outcast revolutionized food supply","user":"SillyValley"},{"comment_count":"144","href":"https://www.example.com/cppcompjs","rank":"3.","score":"235 points","title":"cppcompjs: A non-blocking (web-scale) C++ compiler for node.js","user":"malicealice"}]},{"name":"page-tryit-posts","hext":"<div class=\"post\">\n  <div class=\"username\" @text:username />\n  <div class=\"date\"\n       @text:filter(/published on (\\d+.\\d+.\\d+)/i):date\n       @text:filter(/\\d+:\\d+/):time />\n  <a class=\"permalink\"\n     href:prepend(\"http://www.example.com\"):permalink\n     href:filter(/\\d+$/):post_id />\n  <div class=\"content\" @text:post />\n</div>\n\n","html":"<div class=\"post\">\n  <div class=\"username\">Alice</div>\n  <div class=\"date\">\n    Published on 20.12.2015, 15:45\n  </div>\n  <a class=\"permalink\" href=\"/posts/133045\">\n    Permalink to this post\n  </a>\n  <div class=\"content\">\n    Tabs vs. spaces?\n  </div>\n</div>\n<div class=\"post\">\n  <div class=\"username\">Bob</div>\n  <div class=\"date\">\n    Published on 20.12.2015, 16:23\n  </div>\n  <a class=\"permalink\" href=\"/posts/133046\">\n    Permalink to this post\n  </a>\n  <div class=\"content\">\n    Both!\n  </div>\n</div>\n<div class=\"post\">\n  <div class=\"username\">Richard</div>\n  <div class=\"date\">\n    Published on 27.12.2015, 03:19\n  </div>\n  <a class=\"permalink\" href=\"/posts/133048\">\n    Permalink to this post\n  </a>\n  <div class=\"content\">\n    I like turtles\n  </div>\n</div>\n\n\n","expected":[{"date":"20.12.2015","permalink":"http://www.example.com/posts/133045","post":"Tabs vs. spaces?","post_id":"133045","time":"15:45","username":"Alice"},{"date":"20.12.2015","permalink":"http://www.example.com/posts/133046","post":"Both!","post_id":"133046","time":"16:23","username":"Bob"},{"date":"27.12.2015","permalink":"http://www.example.com/posts/133048","post":"I like turtles","post_id":"133048","time":"03:19","username":"Richard"}]},{"name":"page-tryit-staff","hext":"# match <div> having class \"author\"\n<div class=\"author\">\n  # match <a> having attr. href, store it in \"author_href\"\n  <a href:author_href>\n    # match <img> having attr. src, store it in \"author_img\"\n    <img src:author_img />\n    # match <span> having class \"name\", store inner text\n    # into \"author_name\"\n    <span class=\"name\" @text:author_name />\n  </a>\n</div>\n\n","html":"<h1>Staff</h1>\n<div class=\"staff-listing\">\n  <div class=\"author\">\n    <a href=\"/authors/bob.html\">\n      <img src=\"/images/authors/bob.jpg\"\n           alt=\"Bob\" />\n      <span class=\"name\">Bob</span>\n    </a>\n  </div>\n</div>\n<div class=\"staff-listing\">\n  <div class=\"author\">\n    <a href=\"/authors/alice.html\">\n      <img src=\"/images/authors/alice.jpg\"\n           alt=\"Alice\" />\n      <span class=\"name\">Alice</span>\n    </a>\n  </div>\n</div>\n<div class=\"staff-listing\">\n  <div class=\"author\">\n    <a href=\"/authors/carol.html\">\n      <img src=\"/images/authors/carol.jpg\"\n           alt=\"Carol\" />\n      <span class=\"name\">Carol</span>\n    </a>\n  </div>\n</div>\n\n","expected":[{"author_href":"/authors/bob.html","author_img":"/images/authors/bob.jpg","author_name":"Bob"},{"author_href":"/authors/alice.html","author_img":"/images/authors/alice.jpg","author_name":"Alice"},{"author_href":"/authors/carol.html","author_img":"/images/authors/carol.jpg","author_name":"Carol"}]},{"name":"prepend-pipe","hext":"<a class:trim:prepend(\"This is the class: \"):'class' />\n","html":"<div>\n  <a class=\" spaces \"> This is some content   </a>\n  <a class=\"no spaces\">   some more content</a>\n</div>\n","expected":[{"class":"This is the class: no spaces"},{"class":"This is the class: spaces"}]},{"name":"quoted-regex-pipe","hext":"<a href:filter(\"^/user/[a-z]*-([0-9]+)\"):user_id\n   @text:trim:user_name\n/>\n","html":"<div>\n  <a href=\"/user/bob-22\"> Bob </a>\n  <a href=\"/user/alice-23\"> Alice </a>\n  <a href=\"/user/tom-24\"> Tom </a>\n</div>\n","expected":[{"user_id":"22","user_name":"Bob"},{"user_id":"23","user_name":"Alice"},{"user_id":"24","user_name":"Tom"}]},{"name":"recursive-matching-no-text-nodes","hext":"<div class:div_class>\n  <ul class:ul_class>\n    <li class:li1_class/>\n    <li class:li2_class/>\n  </ul>\n</div>\n","html":"<html><head></head><body class=\"body\"><div class=\"div\"><div class=\"div\"><ul class=\"ul\"><li class=\"li\"></li><li class=\"li\"></li></ul></div><div class=\"div\"><ul class=\"ul\"><li class=\"li\"></li><li class=\"li\"></li></ul></div></div><div class=\"div\"><div class=\"div\"><ul class=\"ul\"><li class=\"li\"></li><li class=\"li\"></li></ul></div><div class=\"div\"><ul class=\"ul\"><li class=\"li\"></li><li class=\"li\"></li></ul></div></div><div class=\"div\"><div class=\"div\"><ul class=\"ul\"><li class=\"li\"></li><li class=\"li\"></li></ul></div><div class=\"div\"><ul class=\"ul\"><li class=\"li\"></li><li class=\"li\"></li></ul><div class=\"div\"><ul class=\"ul\"><li class=\"li\"></li><li class=\"li\"></li></ul></div></div></div></body></html>\n","expected":[{"div_class":"div","li1_class":"li","li2_class":"li","ul_class":"ul"},{"div_class":"div","li1_class":"li","li2_class":"li","ul_class":"ul"},{"div_class":"div","li1_class":"li","li2_class":"li","ul_class":"ul"},{"div_class":"div","li1_class":"li","li2_class":"li","ul_class":"ul"},{"div_class":"div","li1_class":"li","li2_class":"li","ul_class":"ul"},{"div_class":"div","li1_class":"li","li2_class":"li","ul_class":"ul"},{"div_class":"div","li1_class":"li","li2_class":"li","ul_class":"ul"}]},{"name":"recursive-text","hext":"<div id=\"target\" @text:sentence/>\n","html":"<html>\n<body>\n<div id=\"target\">\n  So this\n  <div>\n    is\n    <div>\n      a\n    </div>\n    sentence\n  </div>\n  <div>\n    all\n    <div>\n      over\n    </div>\n    the\n    <span>\n      place\n    </span>\n  </div>\n</div>\n</body>\n</html>\n","expected":[{"sentence":"So this is a sentence all over the place"}]},{"name":"regex-pipe","hext":"<a href:filter(/-([0-9]+)$/):user_id\n   @text:trim:user_name\n/>\n","html":"<div>\n  <a href=\"/user/bob-22\"> Bob </a>\n  <a href=\"/user/alice-23\"> Alice </a>\n  <a href=\"/user/tom-24\"> Tom </a>\n</div>\n","expected":[{"user_id":"22","user_name":"Bob"},{"user_id":"23","user_name":"Alice"},{"user_id":"24","user_name":"Tom"}]},{"name":"replace-pipe","hext":"<a @text:trim:replace(/content/, \"potato\"):\"text\" />\n","html":"<div>\n  <a class=\"spaces\"> This is some content   </a>\n  <a class=\"no spaces\">   some more content</a>\n</div>\n","expected":[{"text":"some more potato"},{"text":"This is some potato"}]},{"name":"replace-pipe-quoted-rx","hext":"<a @text:trim:replace('content'i, \"\\\"strange\\\"/days/\"):replace(\"\\\"strange\\\"/days/\"i, \"content\"):replace(\"content\", 'potato'):text />\n","html":"<div>\n  <a class=\"spaces\"> This is some content   </a>\n  <a class=\"no spaces\">   some more content</a>\n</div>\n","expected":[{"text":"some more potato"},{"text":"This is some potato"}]},{"name":"single-greedy","hext":"<+h1 class:x />\n","html":"<div class=\"result-set\">\n  <h1 class=\"1\">Heading</h1>\n  <h1 class=\"2\">Heading</h1>\n  <h1 class=\"3\">Heading</h1>\n  <h1 class=\"4\">Heading</h1>\n</div>\n<div class=\"result-set\">\n  <h1 class=\"5\">Heading</h1>\n</div>\n<!-- result-set -->\n<h1 class=\"6\">Heading</h1>\n<h1 class=\"7\">Heading</h1>\n<h1 class=\"8\">Heading</h1>\n<h1 class=\"9\">Heading</h1>\n<h1 class=\"10\">Heading</h1>\n","expected":[{"x":["6","7","8","9","10"]},{"x":["1","2","3","4"]},{"x":"5"}]},{"name":"star-matches-text-nodes","hext":"<a>\n  <* @text:txt />\n</a>\n","html":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <title>Example</title>\n  </head>\n  <body>\n    <a href=\"one.html\">  Page 1</a>\n    <a href=\"two.html\">  Page 2</a>\n    <a href=\"three.html\">Page 3</a>\n  </body>\n</html>\n","expected":[{"txt":"Page 1"},{"txt":"Page 2"},{"txt":"Page 3"}]},{"name":"tag-case","hext":"<SPAN class:class />\n","html":"<div>\n  <span class=\"lower case tag\"></span>\n  <sPaN class=\"mixed case tag\"></span>\n  <SPAN class=\"upper case tag\"></span>\n</div>\n","expected":[{"class":"lower case tag"},{"class":"mixed case tag"},{"class":"upper case tag"}]},{"name":"trim-pipe","hext":"<a class:trim(\" \"):' class ' @text:trim:trim(\"st\"):\"trimmed content\" />\n","html":"<div>\n  <a class=\" spaces \"> This is some content   </a>\n  <a class=\"no spaces\">   some more content</a>\n</div>\n","expected":[{" class ":"no spaces","trimmed content":"ome more conten"},{" class ":"spaces","trimmed content":"This is some conten"}]},{"name":"unicode-input-output","hext":"<div @text:txt />\n","html":"<div>\n  This is some 💩💩💩 content\n</div>\n","expected":[{"txt":"This is some 💩💩💩 content"}]}];
