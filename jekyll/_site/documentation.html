<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Hext &mdash; Documentation</title>
    <meta name="description" content="Learn how to extract structured data from HTML documents using Hext">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="canonical" href="https://hext.thomastrapp.com/documentation">

    
    <link rel="stylesheet" href="assets/combined.min.css">
    <script src="assets/combined.min.js"></script>
    

  </head>
  <body>

    <noscript>
      <div class="ui warning message no-radius">
        <div class="ui center aligned page container">
          <div class="header">
            Site requires Javascript
          </div>
          Syntax highlighting and the Hext editor won't work without Javascript.
        </div>
      </div>
    </noscript>

    <div class="ui main-menu">
      <div class="large-only ui container">
        <div class="ui inverted labeled icon four item stackable menu">
          <a href="/"
             class="item"
             ><img class="logo" alt="Hext" src="assets/img/hext-logo.png"></a>
          <a href="/documentation"
             class="active item"
             ><i class="student icon"></i> Documentation</a>
          <a href="/download"
             class="item"
             ><i class="download icon"></i>Get Hext</a>
          <a href="https://github.com/html-extract/hext"
             class="item"><i class="github icon"></i>Github</a>
        </div>
      </div>
      <div class="small-only">
        <div class="ui one item compact menu">
          <a href="/"
             class="item"
             ><img class="logo" alt="Hext" src="assets/img/hext-logo.png"></a>
        </div>
        <div class="ui inverted labeled icon four item compact menu">
          <a href="/documentation"
             class="active item"
             ><i class="student icon"></i> Docs</a>
          <a href="/download"
             class="item"
             ><i class="download icon"></i>Get Hext</a>
          <a href="https://github.com/html-extract/hext"
             class="item"><i class="github square icon"></i>Github</a>
        </div>
      </div>
    </div>

    <main class="ui stackable grid container page-documentation">
<div class="three wide column">
  <div class="ui sticky">
    <div class="jump-table-spacer"></div>
    <h4>What the heck is Hext?</h4>
    <div class="ui secondary vertical scrollspy pointing fluid menu jump-table">
      <a class="active item" href="#example">
        An Example
      </a>
      <a class="item" href="#big-picture">
        The Big Picture
      </a>
      <a class="item" href="#another-example">
        Another Example
      </a>
      <a class="item" href="#matching-elements">
        Matching Elements
      </a>
      <a class="item" href="#capturing-data">
        Capturing Data
      </a>
      <a class="item" href="#limitations">
        Limitations
      </a>
    </div>
    <h4>Hext Reference</h4>
    <div class="ui secondary vertical scrollspy pointing fluid menu jump-table">
      <a class="item" href="#element-traits">
        Element Traits
      </a>
      <a class="item" href="#match-operators">
        Match Operators
      </a>
      <a class="item" href="#string-pipes">
        String Pipes
      </a>
      <a class="item" href="#builtin-functions">
        Built-in Functions
      </a>
    </div>
  </div>
</div>
<div class="thirteen wide column">
  <a class="scrollspy anchor" id="example"></a>
  <h1 class="ui header">Starting with an Example</h1>
  <div class="ui doubling top aligned two column grid">
    <div class="row bottom-attached">
      <div class="ten wide column">
          Suppose you want to extract all hyperlinks from a web page.
          Hyperlinks have an anchor tag <span style="color:#af956f">&lt;a&gt;
          </span>, an attribute called href
          and a text that visitors can click. The Hext snippet
          <span class="intro-large-only">on the right</span>
          <span class="intro-small-only">below</span> extracts exactly that.
          Let's break it down one by one.
      </div>
      <div class="six wide column">
        <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># Extract links and their text</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>link</span> @text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>title</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
        <div style="text-align:right">
          <a href="/#attribute"><i class="pointing right icon"></i> Load example in editor</a>
        </div>
      </div>
      <div class="sixteen wide column">
        <a href="assets/img/example-attribute-text.png">
          <img class="ui fluid image"
               alt="*** Image containing a detailed description of the Hext snippet mentioned above ***"
               src="assets/img/example-attribute-text.png" />
        </a>
      </div>
      <div class="sixteen wide column">
         If this rule matches an HTML element it will produce key-value pairs,
         where the key is the name of the capture and the value contains the
         extracted content:
      </div>
    </div>
    <div class="doc-example row">
      <div class="eight wide column">
        <pre class="ace-static-hl" style="background-color:transparent"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment ace_xml'>&#60;!-- Html input:            --&#62;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>href</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>"one.html"</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>  Page 1</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>href</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>"two.html"</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>  Page 2</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>href</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>"three.html"</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>Page 3</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div></div></div></code></pre>
      </div>
      <div class="eight wide json column">
        <pre class="ace-static-hl ace-clouds"><code><span class="ace_comment">Hext's output:</span>
{<b>"link"</b>: "one.html",   <b>"title"</b>: "Page 1"}
{<b>"link"</b>: "two.html",   <b>"title"</b>: "Page 2"}
{<b>"link"</b>: "three.html", <b>"title"</b>: "Page 3"}</code></pre>
      </div>
    </div>
  </div>
  <a class="scrollspy anchor" id="big-picture"></a>
  <h1 class="ui header">The Big Picture</h1>
  <div class="ui doubling top aligned two column grid">
    <div class="one column row">
      <div class="column">
        <p>
          Hext's strength is that you can put together something that looks like the
          HTML you want to extract data from.
          Hext snippets can be thought of as a counterpart to
          <a href="https://en.wikipedia.org/wiki/Web_template_system">web templates</a>.
          Web developers typically use templates to embed data in HTML and that's why
          most content on the web does have some sort of structure which is to Hext's
          advantage.
        </p>
      </div>
    </div>
    <div class="two column row">
      <div class="column">
        <p>
          The snippet <span class="intro-large-only">on the right</span>
          <span class="intro-small-only">below</span> collects all Youtube videos
          from a Youtuber's channel page. For example, if applied to
          <a href="https://www.youtube.com/user/CppCon/videos">
            https://www.youtube.com/user/CppCon/videos</a> you'll get a list of
          the most recent talks at CppCon with each item
          <span class="capture-list">containing the <b>duration</b>,
          <b>title</b>, <b>link</b>, <b>view_count</b> and <b>date_published</b>.
          </span>
        </p>
        <p class="bottom-attached">
          There are currently three ways to use Hext:
        </p>
        <ul class="ui list">
          <li>
            The <a href="/download#using-htmlext">htmlext command line utility</a>
            applies Hext to HTML documents and returns JSON containing the
            captured data.
          </li>
          <li>
            The
            <a href="/libhext-documentation">libhext library</a> contains a
            <a href="/libhext-documentation/namespacehext.html#a5eb6ca2a2c1e975426ec416bd60415df">
            Hext parser</a> but also lets you build a Hext rule tree manually.
          </li>
          <li>The Hext language bindings:
              <a href="/download#building-nodejs-hext">Node.js</a>,
              <a href="/download#building-python-hext">Python</a>,
              <a href="/download#building-ruby-hext">Ruby</a>,
              <a href="/download#building-php-hext">PHP</a>
          </li>
        </ul>
        <p>
          Also, you can test Hext in the
          "<a href="/#attribute">Try Hext in your Browser</a>" section: Just paste any
          HTML from the web into the editor and have a go!
        </p>
      </div>
      <div class="column">
        <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_whitespace'> </span>class<span class='ace_entity ace_name ace_tag'>=</span><span class='ace_string'>"yt-lockup-thumbnail"</span><span class='ace_keyword'>&#62;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>&#60;span&#62;</span>
</div><div class='ace_line'>    <span class='ace_keyword'>&#60;span</span><span class='ace_whitespace'> </span>class<span class='ace_entity ace_name ace_tag'>=</span><span class='ace_string'>"video-time"</span> @text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>duration</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>&#60;/span&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;/div&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_whitespace'> </span>class<span class='ace_entity ace_name ace_tag'>=</span><span class='ace_string'>"yt-lockup-content"</span><span class='ace_keyword'>&#62;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>&#60;h3&#62;</span>
</div><div class='ace_line'>    <span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>title</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>   href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>prepend(</span><span class='ace_string'>"https://youtube.com"</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>link</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>&#60;/h3&#62;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>&#60;div</span><span class='ace_whitespace'> </span>class<span class='ace_entity ace_name ace_tag'>=</span><span class='ace_string'>"yt-lockup-meta"</span><span class='ace_keyword'>&#62;</span>
</div><div class='ace_line'>    <span class='ace_keyword'>&#60;ul&#62;</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_keyword'>&#60;li</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>filter(</span><span class='ace_string'>/[^ ]+/</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>view_count</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_indent-guide'>    </span>  <span class='ace_keyword'>&#60;li</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>date_published</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'>    <span class='ace_keyword'>&#60;/ul&#62;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>&#60;/div&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;/div&#62;</span>
</div></div></div></code></pre>
      </div>
    </div>
  </div>
  <a class="scrollspy anchor" id="another-example"></a>
  <h1 class="ui header">Another Example</h1>
  <div class="ui doubling top aligned two column grid">
    <div class="row bottom-attached">
      <div class="eight wide column capture-list">
        The Hext snippet <span class="intro-large-only">on the right</span>
        <span class="intro-small-only">below</span> matches
        <span style="color:#af956f">&lt;a&gt;</span> containing at least two
        elements:
        A <span style="color:#af956f">&lt;span&gt;</span> followed by
        <span style="color:#af956f">&lt;img&gt;</span>.<br>
        Notice how only the first span is matched for <b>id</b> in the example
        below. This is because rules take turns to match elements. The second
        <span style="color:#af956f">&lt;span&gt;</span> gets tested by the
        rule for <b>image</b>, which doesn't match and the element gets skipped.
        The rule then continues with <span style="color:#af956f">&lt;img&gt;</span>,
        which matches. Then, the first rule (<b>id</b>) takes over again.
        And indeed it matches the third <span style="color:#af956f">&lt;span&gt;</span>,
        but the result is discarded because the second rule (<b>image</b>)
        doesn't match: there are no more elements left.
      </div>
      <div class="eight wide column">
        <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>link</span><span class='ace_keyword'>&#62;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>&#60;span</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>id</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'>  <span class='ace_keyword'>&#60;img</span><span class='ace_whitespace'> </span>src<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>image</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;/a&#62;</span>
</div></div></div></code></pre>
        <div style="text-align:right">
          <a href="/#nested"><i class="pointing right icon"></i> Load example in editor</a>
        </div>
      </div>
    </div>
    <div class="doc-example row">
      <div class="eight wide column">
        <pre class="ace-static-hl" style="background-color:transparent"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment ace_xml'>&#60;!-- Html input: --&#62;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>href</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>"/coffee"</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_text ace_xml'>  </span><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>#1</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_text ace_xml'>  </span><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>Coffee</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_text ace_xml'>  </span><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_image ace_tag-name ace_xml'>img</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>src</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>"coffee.jpg"</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>/&#62;</span>
</div><div class='ace_line'><span class='ace_text ace_xml'>  </span><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>turns nights into code</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>href</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>"/beer"</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_text ace_xml'>  </span><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>#2</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_text ace_xml'>  </span><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>Beer</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_text ace_xml'>  </span><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_image ace_tag-name ace_xml'>img</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_entity ace_other ace_attribute-name ace_xml'>src</span><span class='ace_keyword ace_operator ace_attribute-equals ace_xml'>=</span><span class='ace_string ace_attribute-value ace_xml'>"beer.jpg"</span><span class='ace_text ace_tag-whitespace ace_xml'> </span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>/&#62;</span>
</div><div class='ace_line'><span class='ace_text ace_xml'>  </span><span class='ace_meta ace_tag ace_punctuation ace_tag-open ace_xml'>&#60;</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span><span class='ace_text ace_xml'>improves dance skill by 70%</span><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_tag-name ace_xml'>span</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div><div class='ace_line'><span class='ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml'>&#60;/</span><span class='ace_meta ace_tag ace_anchor ace_tag-name ace_xml'>a</span><span class='ace_meta ace_tag ace_punctuation ace_tag-close ace_xml'>&#62;</span>
</div></div></div></code></pre>
      </div>
      <div class="eight wide json column">
        <pre class="ace-static-hl ace-clouds"><code><span class="ace_comment">Hext's output:</span>
{
  <b>"id"</b>: "#1",
  <b>"image"</b>: "coffee.jpg",
  <b>"link"</b>: "/coffee"
}

{
  <b>"id"</b>: "#2",
  <b>"image"</b>: "beer.jpg",
  <b>"link"</b>: "/beer"
}</code></pre>
      </div>
    </div>
  </div>
  <a class="scrollspy anchor" id="matching-elements"></a>
  <h1 class="ui header">How Hext Matches Elements</h1>
  <div class="ui doubling top aligned two column grid">
    <div class="column">
      <p>
        <b>A Hext snippet is a set of rules that is matched against
        an HTML document.</b> Each HTML element is tested by the first rule
        of a Hext snippet. A rule begins with either a valid HTML tag or
        an asterisk which matches every HTML element.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match every element with any tag</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match every &#60;div&#62; element</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p>
        <b>Rules may have children.</b> If a rule matches an HTML element, the
        rule's children are matched against the element's children, and must each
        produce at least one match.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;a&#62; elements that have at</span>
</div><div class='ace_line'><span class='ace_comment'># least one child element &#60;img&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a&#62;&#60;img</span><span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;&#60;/a&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p>
        <b>Rules may have siblings.</b> If a rule matches an HTML element,
        all the rule's siblings are matched against the element's siblings.
        While adjacency is not required, matching elements must still appear
        in the same order as their rule counterparts.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;h1&#62; elements that are followed</span>
</div><div class='ace_line'><span class='ace_comment'># by a &#60;p&#62; element</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;h1/&#62;&#60;p/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p>
        <b>Rules may be optional.</b> A Hext snippet only matches if each rule
        finds its match, unless it is marked optional with a question mark. These
        rules are simply skipped if no match is found. Mandatory rules always
        take precedence over optional rules.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;h1&#62;, optionally followed by &#60;time&#62;,</span>
</div><div class='ace_line'><span class='ace_comment'># followed by a paragraph</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;h1/&#62;&#60;?time/&#62;&#60;p/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p>
        <b>Rules may be greedy.</b> A rule marked with a plus sign does not stop at
        the first match, instead it continually searches for a match until a mandatory
        rule takes precedence or until there are no more elements left.<br>
        A greedy rule can also be made optional, that is, it may match none or many.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;h1&#62;, followed by at least one &#60;p&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;h1/&#62;&#60;+p /&#62;</span><div class='ace_line'><span class='ace_comment'># match &#60;h1&#62;, followed by zero or more &#60;p&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;h1/&#62;&#60;?+p /&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p>
        <b>Rules may contain match patterns.</b> Match patterns
        further refine which HTML elements to match. There are three kinds
        of match patterns: Attribute matches,
        <a href="#builtin-functions">Built-in Function</a> matches and
        <a href="#element-traits">Element Traits</a>.<br>
        Attributes may be compared against a string or a regular expression.
        There are six <a href="#match-operators">match operators</a> that
        determine the type of comparison: <span class="operator-list">
        <b>=</b>&nbsp;contains&nbsp;word, <b>*=</b>&nbsp;contains,
        <b>^=</b>&nbsp;begins&nbsp;with, <b>$=</b>&nbsp;ends&nbsp;with,
        <b>==</b>&nbsp;identical and <b>=~/</b>regex<b>/</b>. Regular
        expressions may also be embedded in quotes, e.g. <b>=~"\d+"</b>,
        which is particularly useful when matching URLs.</span><br>
        Match patterns may be negated by an exclamation mark.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;a&#62; having attribute "name"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>name <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match &#60;a&#62; having attribute "href"</span>
</div><div class='ace_line'><span class='ace_comment'># beginning with "https:"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>^=</span><span class='ace_string'>"https:"</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match &#60;a&#62; having attribute href containing</span>
</div><div class='ace_line'><span class='ace_comment'># the string "post-" followed by a number</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>=~</span><span class='ace_string'>/post-\d+/</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match &#60;a&#62; not having attribute "href" beginning</span>
</div><div class='ace_line'><span class='ace_comment'># with "https:"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>^=</span><span class='ace_string'>"https:"</span>! <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p>
        <a href="#builtin-functions">Built-in functions</a> turn an HTML element
        into a string. As with attributes,
        <a href="#match-operators">match operators</a> may be used to
        test for specific contents. There are three built-in functions:
        <span class="operator-list"><b>@text</b>, <b>@inner-html</b> and
        <b>@strip-tags</b>.
        <b>@text</b> is the most powerful, as it turns an HTML element into
        clean and readable text.</span>
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;h1&#62; whose content starts with "News: "</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;h1</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>^=</span><span class='ace_string'>"News: "</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match &#60;h1&#62; whose content matches a case</span>
</div><div class='ace_line'><span class='ace_comment'># insensitive regex</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;h1</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>=~</span><span class='ace_string'>/section \d+.\d+/i</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p class="operator-list">
        <a href="#element-traits">Element traits</a> describe the position of an
        HTML element relative to its parent or general properties,
        for example its amount of children or attributes. The intent is to
        replicate CSS pseudo-classes.<br>
        Chained traits require elements to match each trait.<br>
        <b>:not(</b>traits<b>)</b> negates element traits.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;li&#62; who are the first child of their parent</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;li</span><span class='ace_entity ace_name ace_tag'>:first-child</span><span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match &#60;li&#62; who are the first and the last child of</span>
</div><div class='ace_line'><span class='ace_comment'># their parent (i.e. the only child)</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;li</span><span class='ace_entity ace_name ace_tag'>:first-child:last-child</span><span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match every third &#60;li&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;li</span><span class='ace_entity ace_name ace_tag'>:nth-child</span>(3n)<span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match &#60;li&#62; that are not the first child</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;li</span><span class='ace_entity ace_name ace_tag'>:not</span>(<span class='ace_entity ace_name ace_tag'>:first-child</span>)<span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
  </div>
  <a class="scrollspy anchor" id="capturing-data"></a>
  <h1 class="ui header">How Hext Captures Data</h1>
  <div class="ui doubling top aligned two column grid">
    <div class="column">
      <p>
        <b>Rules may contain captures.</b> After a successful and complete
        match of a Hext snippet the data is extracted. There are two possible
        sources for data: HTML attributes and the result of
        <a href="#builtin-functions">built-in functions</a>. Each capture must be
        named.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;a&#62; having attribute "href" and store</span>
</div><div class='ace_line'><span class='ace_comment'># the attribute's value as "link"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>link</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match &#60;article&#62; and store its content as "content"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;article</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>content</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p>
        Attribute captures may be suffixed by a question mark, indicating that the
        attribute is optional, i.e. a matching element may have this attribute, but
        doesn't need to.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;a&#62; having attribute "href" and optionally</span>
</div><div class='ace_line'><span class='ace_comment'># having attribute "name", store their values in</span>
</div><div class='ace_line'><span class='ace_comment'># "link" and "anchor"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>link</span> name<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>anchor</span>? <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p>
        <b>Captures may contain <a href="#string-pipes">string pipes</a>.</b>
        String pipes transform the content of an HTML attribute or the result of a
        <a href="#builtin-function">built-in function</a>.<br>
        String pipes may be chained.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match &#60;a&#62; having attribute "href", prepend</span>
</div><div class='ace_line'><span class='ace_comment'># "https://example.com/" to its value and store</span>
</div><div class='ace_line'><span class='ace_comment'># it as "url"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>prepend(</span><span class='ace_string'>"https://example.com/"</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>url</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <p class="operator-list">
        A particularly useful string pipe is <b>:filter</b>. It transforms a string
        according to a regular expression. This regular expression may contain
        a capture group which isolates a result from the rest of the match.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># extract the first number, store as first_num</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;h1</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>filter(</span><span class='ace_string'>/[0-9]+/</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>first_num</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># extract digits only, store as phone_nr</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>filter(</span><span class='ace_string'>/Phone: ([0-9]+)/</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>phone_nr</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
  </div>
  <!--a class="scrollspy anchor" id="roundup"></a>
  <h1 class="ui header">Roundup</h1>
  <p>
    An easy way to examine an HTML document's structure is by using your
    browser's built-in developer tools. Consult your browser's documentation
    here:
    <a href="https://developer.mozilla.org/en-US/docs/Tools">Firefox</a>,
    <a href="https://developer.chrome.com/devtools">Chrome</a>, and
    <a href="https://developer.apple.com/safari/tools/">Safari</a>.
  </p-->
  <a class="scrollspy anchor" id="limitations"></a>
  <h1 class="ui header">Limitations</h1>
  <ul>
    <li>Hext operates on a bare bones HTML parse tree. It has no knowledge of
        Javascript or CSS.</li>
    <li>All input is stubbornly treated as UTF-8.</li>
    <li>Hext only extracts strings and provides little means to modify the data.</li>
    <li>There's HTML out there that won't work well with Hext. But such is life.</li>
  </ul>
  <p class="bottom-attached">
    Hext aims to make simple extractions easy; if you have bigger problems
    you probably need bigger tools ¯\_(ツ)_/¯
  </p>
  <h4 class="bottom-attached">
    See also:
  </h4>
  <ul>
    <li>
      <a href="http://www.videlibri.de/xidel.html">Xidel</a>: Xidel is a command
      line tool to download and extract data from HTML/XML pages as well as JSON
      APIs. Handles multiple extraction methods, including XPath/XQuery, CSS3
      selectors and "Templates" which are similar to Hext. If htmlext doesn't
      cut it for you, this marvelous tool has it all.
    </li>
    <li>
      <a href="https://wiki.qt.io/Qt_WebKit">QtWebKit</a>:
      A full-blown browser that allows access to its internals and can therefore
      be (ab-)used to extract content.
    </li>
    <li>
      Python's <a href="https://www.crummy.com/software/BeautifulSoup/">
      BeautifulSoup</a>, Ruby's <a href="http://www.nokogiri.org/">Nokogiri</a>
      and Node's <a href="https://github.com/cheeriojs/cheerio">cheerio</a>.
    </li>
  </ul>
  <div class="ui horizontal divider">Hext Reference</div>
  <a class="scrollspy anchor" id="element-traits"></a>
  <h1 class="ui header">Element Traits</h1>
  <p>
    Element traits describe the position of an HTML element relative to its parent
    or general properties, for example its amount of children or attributes.
    The intent is to replicate CSS pseudo-classes.<br>
    Chained traits require elements to match each trait.
  </p>
  <div class="ui doubling top aligned two column name-list grid">
    <div class="column">
      <h3>
        :empty<br>
        :child-count(&lt;amount&gt;)
      </h3>
      <p>Select elements that have a certain amount of children.<br>
         Text nodes are not considered to be children, i.e. an element that
         only contains text is considered to be empty.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match: &#60;div&#62;&#60;/div&#62;, &#60;div&#62;text&#60;/div&#62;, ..</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_entity ace_name ace_tag'>:empty</span><span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match: &#60;div&#62;&#60;a&#62;&#60;/a&#62;&#60;b&#62;&#60;/b&#62;&#60;/div&#62;,</span>
</div><div class='ace_line'><span class='ace_comment'>#        &#60;div&#62;Children: &#60;a&#62;&#60;/a&#62;&#60;b&#62;&#60;/b&#62;&#60;/div&#62;, ..</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_entity ace_name ace_tag'>:child-count</span>(2)<span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>:attribute-count(&lt;amount&gt;)</h3>
      <p>Select elements that have a certain amount of attributes.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match: &#60;div&#62;&#60;/div&#62;, &#60;div&#62;&#60;a&#62;&#60;/a&#62;&#60;/div&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_entity ace_name ace_tag'>:attribute-count</span>(0)<span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match: &#60;div class="" style="" &#62;&#60;/div&#62;</span>
</div><div class='ace_line'><span class='ace_comment'>#        &#60;b data-a="" data-b=""&#62;&#60;/b&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_entity ace_name ace_tag'>:attribute-count</span>(2)<span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>:not(&lt;:trait&gt;)</h3>
      <p>Select elements who do not match certain traits.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match all elements that are not empty</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_entity ace_name ace_tag'>:not</span>(<span class='ace_entity ace_name ace_tag'>:empty</span>)<span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match all elements that are not empty and</span>
</div><div class='ace_line'><span class='ace_comment'># do not have an attribute count of two</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_entity ace_name ace_tag'>:not</span>(<span class='ace_entity ace_name ace_tag'>:empty:attribute-count</span>(2))<span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>
        :first-child<br>
        :first-of-type<br>
        :last-child<br>
        :last-of-type<br>
        :only-child<br>
        :nth-child(&lt;nth-pattern&gt;)<br>
        :nth-of-type(&lt;nth-pattern&gt;)<br>
        :nth-last-child(&lt;nth-pattern&gt;)<br>
        :nth-last-of-type(&lt;nth-pattern&gt;)<br>
        :only-of-type
      </h3>
      <p>Select elements by position within their parent.<br>
         &lt;nth-pattern&gt; may be given in the form of <i>an+b</i> or as
         the shorthands <i>even</i> and <i>odd</i>.<br>
         See
         <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/%3Anth-child">
            MDN</a> for a detailed description.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># &#60;ul&#62;</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;li&#62;These pseudo&#60;/li&#62;  &#60;!-- match --&#62;</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;li&#62;classes     &#60;/li&#62;</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;li&#62;work just   &#60;/li&#62;  &#60;!-- match --&#62;</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;li&#62;like they   &#60;/li&#62;</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;li&#62;do in CSS   &#60;/li&#62;  &#60;!-- match --&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># &#60;/ul&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;li</span><span class='ace_entity ace_name ace_tag'>:nth-child</span>(2n+1)<span class='ace_whitespace'> </span><span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
  </div>
  <a class="scrollspy anchor" id="match-operators"></a>
  <h1 class="ui header">Match Operators</h1>
  <p>
    Match operators compare an attribute's value or the output
    of a built-in function against a string or a regular expression.
  </p>
  <div class="ui doubling top aligned two column name-list grid">
    <div class="column">
      <h3>="&lt;string&gt;"</h3>
      <p>Matches subjects that contain all of the given words in
         any order. Word boundaries are the beginning and end of
         the subject or spaces.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match: class="item",</span>
</div><div class='ace_line'><span class='ace_comment'>#        class="item menu", ..</span>
</div><div class='ace_line'><span class='ace_comment'># does not match: class="first-item",</span>
</div><div class='ace_line'><span class='ace_comment'>#                 class="menuitem", ..</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>class<span class='ace_entity ace_name ace_tag'>=</span><span class='ace_string'>"item"</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># match: class="article sub head",</span>
</div><div class='ace_line'><span class='ace_comment'>#        class="head article", ..</span>
</div><div class='ace_line'><span class='ace_comment'># does not match: class="particle head",</span>
</div><div class='ace_line'><span class='ace_comment'>#                 class="article-head", ..</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>class<span class='ace_entity ace_name ace_tag'>=</span><span class='ace_string'>"article head"</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>*="&lt;string&gt;"</h3>
      <p>Matches subjects that contain the given string.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match: href="http://youtube.com/",</span>
</div><div class='ace_line'><span class='ace_comment'>#        href="youtube", ..</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>*=</span><span class='ace_string'>"youtube"</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>^="&lt;string&gt;"</h3>
      <p>Matches subjects that begin with the given string.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match: &#60;p&#62;Hello, this is HAL&#60;/p&#62;,</span>
</div><div class='ace_line'><span class='ace_comment'>#        &#60;p&#62;Hello&#60;/p&#62;, ..</span>
</div><div class='ace_line'><span class='ace_comment'># does not match: &#60;p&#62;hello&#60;/p&#62;,</span>
</div><div class='ace_line'><span class='ace_comment'>#                 &#60;p&#62;Oh, Hello&#60;/p&#62;, ..</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>^=</span><span class='ace_string'>"Hello"</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>$="&lt;string&gt;"</h3>
      <p>Matches subjects that end with the given string.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match: href="igel.jpg", href="franz.jpg", ..</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>$=</span><span class='ace_string'>".jpg"</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>=="&lt;string&gt;"</h3>
      <p>Matches subjects that are equal to the given string.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match: class="left aligned list"</span>
</div><div class='ace_line'><span class='ace_comment'># does not match anything else</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>class<span class='ace_entity ace_name ace_tag'>==</span><span class='ace_string'>"left aligned list"</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>
        =~/&lt;regex&gt;/[opt]<br>
        =~"&lt;regex&gt;"[opt]
      </h3>
      <p>Matches subjects that match the given regular expression.
         <br>There are two options for regular expressions:<br>
 <span class="operator-list">
 <b>i</b>: <i>case insensitive</i>
 and <b>c</b>: <i>collate</i> (locale aware character groups)</span>
</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># match: class="menuItem-23",</span>
</div><div class='ace_line'><span class='ace_comment'>#        class="menuItem-42-23", ..</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>class<span class='ace_entity ace_name ace_tag'>=~</span><span class='ace_string'>/item-\d+/i</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
  </div>
  <a class="scrollspy anchor" id="string-pipes"></a>
  <h1 class="ui header">String Pipes</h1>
  <p>
    String pipes transform strings before they are captured.
    String pipes can be chained.
  </p>
  <div class="ui doubling top aligned two column name-list grid">
    <div class="column">
      <h3>
        :trim<br>
        :trim("&lt;characters&gt;")
      </h3>
      <p>Trims characters from the beginning and the end of a string.
         Trims spaces by default. If given an argument, trims all
         given characters. Does not handle unicode.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># trim all left and right spaces</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>title<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>trim</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>name</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># trim all left and right spaces and dashes</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>title<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>trim(</span><span class='ace_string'>" -"</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>name</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>:collapsews</h3>
      <p>Trims whitespace from beginning and end and collapses
         multiple whitespace to a single space.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># Turns this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;a title="  Lots   of spaces in this   title"&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># Into this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   "Lots of spaces in this title"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;*</span><span class='ace_whitespace'> </span>title<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>collapsews</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>name</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>
        :tolower<br>
        :toupper
      </h3>
      <p>Changes all characters to lower or upper case. Does not handle unicode.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>title<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>toupper</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>link_title</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>title<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>tolower</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>link_title</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>
        :prepend("&lt;string&gt;")<br>
        :append("&lt;string&gt;")
      </h3>
      <p>Prepends or appends a given string.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># turn relative URLs into absolute URLs</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>prepend(</span><span class='ace_string'>"https://example.com/"</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>url</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># append foo</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>title<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>append(</span><span class='ace_string'>" ..and foo!"</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>title</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>:filter(/&lt;regex&gt;/[opt])</h3>
      <p>Filters a string according to a given regex.
         A regex containing a capture group will produce only the
         matched content of that capture group, otherwise the whole
         regex match is returned. All capture groups after the first
         one will be ignored.
         <br>There are two options for regular expressions:<br>
 <span class="operator-list">
 <b>i</b>: <i>case insensitive</i>
 and <b>c</b>: <i>collate</i> (locale aware character groups)</span>
</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># save the trailing number contained in attr. href</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>filter(</span><span class='ace_string'>/\d+$/</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>user_id</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># save the number after "post-"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;a</span><span class='ace_whitespace'> </span>href<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>filter(</span><span class='ace_string'>/post-(\d+)/</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>post_id</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>:replace(/&lt;regex&gt;/[opt], "&lt;string&gt;")</h3>
      <p>Replaces a portion matched by the given regex with a string.
         Backreferences can be used to address capture groups
         (<a href="http://www.boost.org/doc/libs/release/libs/regex/doc/html/boost_regex/format/boost_format_syntax.html">detailed description</a>).
         <br>There are two options for regular expressions:<br>
 <span class="operator-list">
 <b>i</b>: <i>case insensitive</i>
 and <b>c</b>: <i>collate</i> (locale aware character groups)</span>
</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># replace all instances of foo with bar</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;p</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>replace(</span><span class='ace_string'>/foo/</span>, <span class='ace_string'>"bar"</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>bar_text</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># remove all numbers</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;p</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>replace(</span><span class='ace_string'>/\d+/</span>, <span class='ace_string'>""</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>nonum</span> <span class='ace_keyword'>/&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># use capture groups and backreferences</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;h1</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>replace(</span><span class='ace_string'>/(\d+): (.*)/</span>, <span class='ace_string'>"$2 ($1)"</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>head</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
  </div>
  <a class="scrollspy anchor" id="builtin-functions"></a>
  <h1 class="ui header">Built-in Functions</h1>
  <p>
    Built-in functions transform an element into a string.
  </p>
  <div class="ui doubling top aligned two column name-list grid">
    <div class="column">
      <h3>@text</h3>
      <p>
        Returns the inner text. Trims left and right whitespace and collapses
        multiple whitespace to a single space.
        The content of some elements will be embedded in spaces
        (basically all non-inline elements, like &lt;div&gt; or &lt;h1&gt;).<br>
        The intent is to mimic functions like jQuery's text(), IE's
        innerText() or textContent().<br>
        Does not strip
        <a href="http://www.w3.org/TR/html5/dom.html#metadata-content-0">
          metadata content</a>.
      </p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># Turns this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;article&#62;</span>
</div><div class='ace_line'><span class='ace_comment'>#     &#60;h1&#62;   Which   Highway?&#60;/h1&#62;Highway 61!</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;/article&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># Into this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   "Which Highway? Highway 61!"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;article</span><span class='ace_whitespace'> </span>@text<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>content</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>@inner-html</h3>
      <p>Serializes the inner HTML to a string.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># Turns this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;div&#62;&#60;h1&#62;Which Highway?&#60;/h1&#62; Highway 61! &#60;/div&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># Into this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   "&#60;h1&#62;Which Highway?&#60;/h1&#62; Highway 61! "</span>
</div><div class='ace_line'><span class='ace_comment'># And the filter turns it into this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   "Highway 61"</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_whitespace'> </span>@inner-html<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_constant ace_numeric'>filter(</span><span class='ace_string'>/Highway \d+/</span><span class='ace_constant ace_numeric'>)</span><span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>number</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
    <div class="column">
      <h3>@strip-tags</h3>
      <p>Returns the inner HTML with all tags removed.</p>
    </div>
    <div class="column">
      <pre class="ace-static-hl"><code><div class='ace-clouds'><div class='ace_static_highlight' style='counter-reset:ace_line 0'><div class='ace_line'><span class='ace_comment'># Turns this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   &#60;div&#62;&#60;h1&#62;Which Highway?&#60;/h1&#62;  Highway 61!&#60;/div&#62;</span>
</div><div class='ace_line'><span class='ace_comment'># Into this:</span>
</div><div class='ace_line'><span class='ace_comment'>#   "Which Highway?  Highway 61! "</span>
</div><div class='ace_line'><span class='ace_keyword'>&#60;div</span><span class='ace_whitespace'> </span>@strip-tags<span class='ace_entity ace_name ace_tag'>:</span><span class='ace_storage'>content</span> <span class='ace_keyword'>/&#62;</span>
</div></div></div></code></pre>
    </div>
  </div>
</div>


    </main>

    <div class="ui inverted segment footer">
      <div class="ui about-questions two column stackable grid container">
        <div class="column">
          <div class="ui two column grid">
            <div class="three wide column">
              <h3>How?</h3>
            </div>
            <div class="thirteen wide column">
              <p class="slim"><b>Hext</b> was built with
                 C++,
                 <a href="https://github.com/google/gumbo-parser">Gumbo</a>,
                 <a href="https://www.colm.net/open-source/ragel/">Ragel</a>,
                 <a href="http://www.boost.org/">Boost</a>,
                 <a href="https://github.com/miloyip/rapidjson">RapidJSON</a>,
                 <a href="https://github.com/google/googletest">Google Test</a>,
                 <a href="http://www.doxygen.org/">doxygen</a> and
                 <a href="https://cmake.org/">CMake</a>.
              </p>
              <p><b>This page</b> was cobbled together with
                 <a href="https://jekyllrb.com/">Jekyll</a>,
                 <a href="http://semantic-ui.com/">Semantic UI</a>,
                 <a href="https://jquery.com/">jQuery</a>,
                 <a href="http://ace.c9.io/">Ace Code Editor</a> and
                 <a href="https://github.com/boostorg/beast">Boost.Beast</a>,
                 which powers the "Try Hext in your Browser!" section.
              </p>
            </div>
          </div>
        </div>
        <div class="column">
          <div class="ui two column grid">
            <div class="three wide column">
              <h3>Who?</h3>
            </div>
            <div class="thirteen wide column">
              <p>I'm <a href="http://thomastrapp.com/">Tom</a>,
                 a programmer from Munich and I did all this!<br>
                 Leave a message: <script type="text/javascript">eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%68%65%78%74%40%74%68%6f%6d%61%73%74%72%61%70%70%2e%63%6f%6d%22%3e%68%65%78%74%40%74%68%6f%6d%61%73%74%72%61%70%70%2e%63%6f%6d%3c%2f%61%3e%27%29'))</script><noscript style="color:red">Please enable Javascript to display email address</noscript>
               </p>
            </div>
            <div class="three wide column">
              <h3>Hext?</h3>
            </div>
            <div class="thirteen wide column">
               <p>
                 The word "<b>Hext</b>" is a combination of "<b>HTML</b>" and
                 "<b>extraction</b>".
                 The German adjective "<b>ver</b>·<b>hext</b>"
                 may be translated to "<b>bewitched</b>" or "<b>hexed</b>".
                 <i><a href="https://en.wiktionary.org/wiki/hexen">
                 &raquo; Wiktionary</a></i>
              </p>
            </div>
          </div>
        </div>
        <div class="center aligned sixteen wide column">
          <b>Imprint/Impressum/This site is operated by:</b>
          <a href="https://thomastrapp.com/">Thomas&nbsp;Trapp</a>
          ·&nbsp;Rümannstr.&nbsp;61 ·&nbsp;80804&nbsp;München
          ·&nbsp;<script type="text/javascript">eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%68%65%78%74%40%74%68%6f%6d%61%73%74%72%61%70%70%2e%63%6f%6d%22%3e%68%65%78%74%40%74%68%6f%6d%61%73%74%72%61%70%70%2e%63%6f%6d%3c%2f%61%3e%27%29'))</script><noscript style="color:red">Please enable Javascript to display email address</noscript><br>
          <b>Datenschutzerklärung:</b> Es werden keine personenbezogenen Daten erhoben, ausgewertet oder an Dritte weitergegeben.<br>
          <b>Privacy Policy:</b> No personal data is collected, evaluated or relayed to a third party.<br>
        </div>
      </div>
    </div>
  </body>
</html>
